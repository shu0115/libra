


Processing ApplicationController#index (for 127.0.0.1 at 2010-10-02 23:15:17) [GET]

ActionController::RoutingError (No route matches "/" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ActionController::Base#amount (for 127.0.0.1 at 2010-10-02 23:25:28) [GET]

NameError (uninitialized constant ApplicationController):
  app/controllers/total_controller.rb:1

Rendered rescues/_trace (25.4ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing ActionController::Base#amount (for 127.0.0.1 at 2010-10-02 23:30:37) [GET]

NameError (uninitialized constant ApplicationController):
  app/controllers/total_controller.rb:1

Rendered rescues/_trace (25.5ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing ActionController::Base#amount (for 127.0.0.1 at 2010-10-02 23:32:01) [GET]

NameError (uninitialized constant ApplicationController):
  app/controllers/total_controller.rb:1

Rendered rescues/_trace (55.9ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing TotalController#amount (for 127.0.0.1 at 2010-10-02 23:33:59) [GET]
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 42ms (View: 37, DB: 1) | 200 OK [http://localhost/]


Processing TotalController#amount (for 127.0.0.1 at 2010-10-02 23:34:16) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mItem Load (0.7ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 53ms (View: 49, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2010-10-02 23:34:25) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2010-9-2"}
  [4;36;1mItem Load (0.5ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2010-09-01' AND happen_at <= '2010-09-30') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2010-09-01' AND happen_at <= '2010-09-30') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2010-09-01' AND happen_at <= '2010-09-30') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 22ms (View: 17, DB: 1) | 200 OK [http://localhost/?date=2010-9-2&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2010-10-02 23:34:26) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2010-09-19"}
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at = '2010-09-19') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2010-09-19') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2010-09-19') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 17ms (View: 13, DB: 0) | 200 OK [http://localhost/?date=2010-09-19&sum_type=day]


Processing TotalController#amount (for 127.0.0.1 at 2010-10-02 23:50:38) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2010-09-19"}
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at = '2010-09-19') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2010-09-19') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2010-09-19') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 46ms (View: 41, DB: 0) | 200 OK [http://localhost/?date=2010-09-19&sum_type=day]


Processing TotalController#amount (for 127.0.0.1 at 2010-10-02 23:50:43) [GET]
  [4;35;1mItem Load (0.7ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 23ms (View: 19, DB: 1) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.9ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM "schema_info"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('2')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('1')[0m
  [4;35;1mSQL (1.4ms)[0m   [0mDROP TABLE "schema_info"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateItems (1)
Migrating to ChangeAddColumn (2)
  [4;35;1mSQL (0.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("items")[0m


Processing ItemsController#new (for 127.0.0.1 at 2010-10-02 23:58:07) [GET]
Rendering template within layouts/base
Rendering items/new
Completed in 77ms (View: 74, DB: 0) | 200 OK [http://localhost/items/new]


Processing TotalController#amount (for 127.0.0.1 at 2010-10-11 23:19:44) [GET]
  [4;36;1mItem Load (0.7ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 42ms (View: 37, DB: 1) | 200 OK [http://localhost/]


Processing ItemsController#new (for 127.0.0.1 at 2010-10-11 23:19:47) [GET]
Rendering template within layouts/base
Rendering items/new
Completed in 89ms (View: 58, DB: 0) | 200 OK [http://localhost/items/new]


Processing ItemsController#new (for 127.0.0.1 at 2010-10-11 23:21:09) [GET]
Rendering template within layouts/base
Rendering items/new
Completed in 59ms (View: 55, DB: 0) | 200 OK [http://localhost/items/new]


Processing ItemsController#new (for 127.0.0.1 at 2010-10-11 23:21:23) [GET]
Rendering template within layouts/base
Rendering items/new
Completed in 25ms (View: 21, DB: 0) | 200 OK [http://localhost/items/new]


Processing ItemsController#new (for 127.0.0.1 at 2010-10-11 23:23:15) [GET]
Rendering template within layouts/base
Rendering items/new
Completed in 21ms (View: 17, DB: 0) | 200 OK [http://localhost/items/new]


Processing ItemsController#create (for 127.0.0.1 at 2010-10-11 23:23:26) [POST]
  Parameters: {"commit"=>"‰ΩúÊàê", "authenticity_token"=>"QID2IYdSs4RzFsvNXLOVqtEGu46HA8jE/BEa5+tkZeo=", "item"=>{"price"=>"100", "name"=>"„ÉÜ„Çπ„Éà", "happen_at(1i)"=>"2010", "happen_at(2i)"=>"10", "happen_at(3i)"=>"11"}, "item_type"=>"expense"}
  [4;35;1mItem Create (0.3ms)[0m   [0mINSERT INTO "items" ("name", "price", "created_at", "updated_at", "cycle", "cycle_mode", "happen_at", "item_type") VALUES('„ÉÜ„Çπ„Éà', 100, '2010-10-11 14:23:26', '2010-10-11 14:23:26', NULL, NULL, '2010-10-11', NULL)[0m
Redirected to http://localhost:3000/?sum_type=all
Completed in 8ms (DB: 0) | 302 Found [http://localhost/items/create]


Processing TotalController#amount (for 127.0.0.1 at 2010-10-11 23:23:26) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 25ms (View: 20, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing ItemsController#new (for 127.0.0.1 at 2010-10-11 23:24:55) [GET]
Rendering template within layouts/base
Rendering items/new
Completed in 61ms (View: 58, DB: 0) | 200 OK [http://localhost/items/new]


Processing ItemsController#new (for 127.0.0.1 at 2010-10-11 23:26:41) [GET]
Rendering template within layouts/base
Rendering items/new
Completed in 25ms (View: 21, DB: 0) | 200 OK [http://localhost/items/new]


Processing ItemsController#new (for 127.0.0.1 at 2010-10-11 23:27:57) [GET]
Rendering template within layouts/base
Rendering items/new
Completed in 25ms (View: 21, DB: 0) | 200 OK [http://localhost/items/new]


Processing ItemsController#new (for 127.0.0.1 at 2010-10-11 23:28:09) [GET]
Rendering template within layouts/base
Rendering items/new
Completed in 25ms (View: 22, DB: 0) | 200 OK [http://localhost/items/new]


Processing ItemsController#new (for 127.0.0.1 at 2010-10-11 23:28:43) [GET]
Rendering template within layouts/base
Rendering items/new
Completed in 24ms (View: 21, DB: 0) | 200 OK [http://localhost/items/new]


Processing ItemsController#new (for 127.0.0.1 at 2010-10-11 23:30:01) [GET]
Rendering template within layouts/base
Rendering items/new
Completed in 24ms (View: 21, DB: 0) | 200 OK [http://localhost/items/new]


Processing ItemsController#new (for 127.0.0.1 at 2010-10-11 23:30:53) [GET]
Rendering template within layouts/base
Rendering items/new

ActionView::TemplateError (wrong number of arguments (4 for 3)) on line #14 of app/views/items/new.html.erb:
11:   <p>
12:     <b>ÂìÅÁõÆ„Çø„Ç§„Éó</b><br />
13: 		<%#= f.select :item_type, [ ["ÂèéÂÖ•", "income"], ["ÊîØÂá∫", "expense"] ] %>
14: 	  <%= f.radio_button :item_type, "income", checked = false, options = {} %><label for="item_type_income">ÂèéÂÖ•</label>
15: 	  <%= f.radio_button :item_type, "expense", checked = true, options = {} %><label for="item_type_expense">ÊîØÂá∫</label>
16: <% if false %>
17: 		<%= f.radio_button :item_type ,'income' %><%= f.label :item_type_income %>ÂèéÂÖ•

    app/views/items/new.html.erb:14:in `radio_button'
    app/views/items/new.html.erb:14
    app/views/items/new.html.erb:5

Rendered rescues/_trace (70.8ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing ItemsController#new (for 127.0.0.1 at 2010-10-11 23:31:22) [GET]
Rendering template within layouts/base
Rendering items/new
Completed in 24ms (View: 20, DB: 0) | 200 OK [http://localhost/items/new]


Processing ItemsController#create (for 127.0.0.1 at 2010-10-11 23:31:57) [POST]
  Parameters: {"commit"=>"‰ΩúÊàê", "authenticity_token"=>"QID2IYdSs4RzFsvNXLOVqtEGu46HA8jE/BEa5+tkZeo=", "item"=>{"price"=>"100", "name"=>"„ÉÜ„Çπ„Éà", "happen_at(1i)"=>"2010", "happen_at(2i)"=>"10", "happen_at(3i)"=>"11", "item_type"=>"expense"}}
  [4;35;1mItem Create (0.2ms)[0m   [0mINSERT INTO "items" ("name", "price", "created_at", "updated_at", "cycle", "cycle_mode", "happen_at", "item_type") VALUES('„ÉÜ„Çπ„Éà', 100, '2010-10-11 14:31:57', '2010-10-11 14:31:57', NULL, NULL, '2010-10-11', 'expense')[0m
Redirected to http://localhost:3000/?sum_type=all
Completed in 7ms (DB: 0) | 302 Found [http://localhost/items/create]


Processing TotalController#amount (for 127.0.0.1 at 2010-10-11 23:31:57) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 30ms (View: 25, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing ItemsController#destroy (for 127.0.0.1 at 2010-10-11 23:32:04) [GET]
  Parameters: {"id"=>"13"}
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 13) [0m
  [4;36;1mItem Destroy (0.2ms)[0m   [0;1mDELETE FROM "items" WHERE "id" = 13[0m
Redirected to http://localhost:3000/?sum_type=all
Completed in 6ms (DB: 0) | 302 Found [http://localhost/items/destroy/13]


Processing TotalController#amount (for 127.0.0.1 at 2010-10-11 23:32:04) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mItem Load (0.7ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 25ms (View: 21, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing ItemsController#destroy (for 127.0.0.1 at 2010-10-11 23:32:05) [GET]
  Parameters: {"id"=>"14"}
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" WHERE ("items"."id" = 14) [0m
  [4;35;1mItem Destroy (0.2ms)[0m   [0mDELETE FROM "items" WHERE "id" = 14[0m
Redirected to http://localhost:3000/?sum_type=all
Completed in 6ms (DB: 0) | 302 Found [http://localhost/items/destroy/14]


Processing TotalController#amount (for 127.0.0.1 at 2010-10-11 23:32:06) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 26ms (View: 21, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing ItemsController#new (for 127.0.0.1 at 2010-10-11 23:32:07) [GET]
Rendering template within layouts/base
Rendering items/new
Completed in 21ms (View: 18, DB: 0) | 200 OK [http://localhost/items/new]


Processing ItemsController#create (for 127.0.0.1 at 2010-10-11 23:32:13) [POST]
  Parameters: {"commit"=>"‰ΩúÊàê", "authenticity_token"=>"QID2IYdSs4RzFsvNXLOVqtEGu46HA8jE/BEa5+tkZeo=", "item"=>{"price"=>"100", "name"=>"„ÉÜ„Çπ„Éà", "happen_at(1i)"=>"2010", "happen_at(2i)"=>"10", "happen_at(3i)"=>"11", "item_type"=>"expense"}}
  [4;35;1mItem Create (0.3ms)[0m   [0mINSERT INTO "items" ("name", "price", "created_at", "updated_at", "cycle", "cycle_mode", "happen_at", "item_type") VALUES('„ÉÜ„Çπ„Éà', 100, '2010-10-11 14:32:13', '2010-10-11 14:32:13', NULL, NULL, '2010-10-11', 'expense')[0m
Redirected to http://localhost:3000/?sum_type=all
Completed in 7ms (DB: 0) | 302 Found [http://localhost/items/create]


Processing TotalController#amount (for 127.0.0.1 at 2010-10-11 23:32:13) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 26ms (View: 21, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing ItemsController#edit (for 127.0.0.1 at 2010-10-11 23:42:34) [GET]
  Parameters: {"id"=>"15"}
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 15) [0m
Rendering template within layouts/base
Rendering items/edit
Completed in 24ms (View: 21, DB: 0) | 200 OK [http://localhost/items/edit/15]


Processing ItemsController#edit (for 127.0.0.1 at 2010-10-11 23:46:16) [GET]
  Parameters: {"id"=>"15"}
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" WHERE ("items"."id" = 15) [0m
Rendering template within layouts/base
Rendering items/edit
Completed in 25ms (View: 20, DB: 0) | 200 OK [http://localhost/items/edit/15]


Processing TotalController#amount (for 127.0.0.1 at 2010-10-11 23:46:19) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mItem Load (0.8ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 25ms (View: 21, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing ItemsController#edit (for 127.0.0.1 at 2010-10-11 23:46:21) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" WHERE ("items"."id" = 11) [0m
Rendering template within layouts/base
Rendering items/edit
Completed in 22ms (View: 17, DB: 0) | 200 OK [http://localhost/items/edit/11]


Processing TotalController#amount (for 127.0.0.1 at 2010-10-11 23:46:22) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mItem Load (0.8ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 25ms (View: 20, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing ItemsController#show (for 127.0.0.1 at 2010-10-11 23:46:27) [GET]
  Parameters: {"id"=>"15"}
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" WHERE ("items"."id" = 15) [0m
Rendering template within layouts/base
Rendering items/show
Completed in 19ms (View: 16, DB: 0) | 200 OK [http://localhost/items/show/15]


Processing ItemsController#show (for 127.0.0.1 at 2010-10-11 23:47:16) [GET]
  Parameters: {"id"=>"15"}
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 15) [0m
Rendering template within layouts/base
Rendering items/show
Completed in 18ms (View: 13, DB: 0) | 200 OK [http://localhost/items/show/15]


Processing ItemsController#show (for 127.0.0.1 at 2010-10-11 23:47:27) [GET]
  Parameters: {"id"=>"15"}
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" WHERE ("items"."id" = 15) [0m
Rendering template within layouts/base
Rendering items/show
Completed in 59ms (View: 55, DB: 0) | 200 OK [http://localhost/items/show/15]


Processing TotalController#amount (for 127.0.0.1 at 2010-10-11 23:47:30) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mItem Load (0.8ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 25ms (View: 20, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing ItemsController#show (for 127.0.0.1 at 2010-10-11 23:47:31) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" WHERE ("items"."id" = 11) [0m
Rendering template within layouts/base
Rendering items/show
Completed in 17ms (View: 13, DB: 0) | 200 OK [http://localhost/items/show/11]


Processing ItemsController#show (for 127.0.0.1 at 2010-10-20 21:50:23) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 11) [0m
Rendering template within layouts/base
Rendering items/show
Completed in 25ms (View: 19, DB: 0) | 200 OK [http://localhost/items/show/11]


Processing ItemsController#show (for 127.0.0.1 at 2010-10-20 21:52:43) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" WHERE ("items"."id" = 11) [0m
Rendering template within layouts/base
Rendering items/show
Completed in 17ms (View: 13, DB: 0) | 200 OK [http://localhost/items/show/11]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:43:31) [GET]
  [4;36;1mItem Load (0.9ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 66ms (View: 60, DB: 1) | 200 OK [http://localhost/]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:43:38) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-5-10"}
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-05-01' AND happen_at <= '2011-05-31') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-05-01' AND happen_at <= '2011-05-31') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-05-01' AND happen_at <= '2011-05-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 19ms (View: 14, DB: 1) | 200 OK [http://localhost/?date=2011-5-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:43:45) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-1-10"}
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 19ms (View: 13, DB: 0) | 200 OK [http://localhost/?date=2011-1-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:44:38) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mItem Load (0.9ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 27ms (View: 22, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:46:00) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;36;1mItem Load (1.4ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount

ActionView::TemplateError (undefined local variable or method `month' for #<ActionView::Base:0x10236a120>) on line #17 of app/views/layouts/base.html.erb:
14: 
15: <br />
16: 
17: <span class="now_date"><%= link_to( "#{month}Êúà", :controller => "total", :action=>'amount', :date => "#{@now_date.year}-#{month}-#{@now_date.day}", :sum_type => "month" ) -%></span><br />
18: 
19: <br />
20: 

    app/views/layouts/base.html.erb:17

Rendered rescues/_trace (72.4ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:46:34) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mItem Load (0.8ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount

ActionView::TemplateError (private method `now' called for Date:Class) on line #17 of app/views/layouts/base.html.erb:
14: 
15: <br />
16: 
17: <span class="now_date"><%= link_to( "‰ªäÊúà", :controller => "total", :action=>'amount', :date => Date.now, :sum_type => "month" ) -%></span><br />
18: 
19: <br />
20: 

    app/views/layouts/base.html.erb:17

Rendered rescues/_trace (72.1ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:48:10) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 29ms (View: 24, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:48:17) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 19ms (View: 14, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:48:33) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 24ms (View: 18, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:48:35) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 20ms (View: 15, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:48:39) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 20ms (View: 14, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:49:30) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 25ms (View: 18, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:49:49) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 25ms (View: 19, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:49:52) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at = '2011-01-10') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2011-01-10') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2011-01-10') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 19ms (View: 14, DB: 0) | 200 OK [http://localhost/?date=2011-01-10&sum_type=day]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:49:54) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 58ms (View: 53, DB: 0) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:49:55) [GET]
  Parameters: {"sum_type"=>"year", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at < '2012-01-01') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 21ms (View: 15, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=year]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:49:57) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 21ms (View: 15, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:49:58) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at = '2011-01-10') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2011-01-10') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2011-01-10') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 19ms (View: 14, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=day]


Processing ItemsController#new (for 127.0.0.1 at 2011-01-10 05:50:02) [GET]
Rendering template within layouts/base
Rendering items/new
Completed in 115ms (View: 112, DB: 0) | 200 OK [http://localhost/items/new]


Processing ItemsController#create (for 127.0.0.1 at 2011-01-10 05:53:44) [POST]
  Parameters: {"commit"=>"‰ΩúÊàê", "authenticity_token"=>"XZ5RJ9QE9nlcaet4Obvv9wSTBgm3Ni1OBhgtEwiy86I=", "item"=>{"price"=>"10,00 99", "name"=>"„ÉÜ„Çπ„Éà", "happen_at(1i)"=>"2011", "happen_at(2i)"=>"1", "happen_at(3i)"=>"10", "item_type"=>"expense"}}

NoMethodError (private method `gsub' called for 10:Fixnum):
  app/controllers/items_controller.rb:46:in `create'

Rendered rescues/_trace (25.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ItemsController#create (for 127.0.0.1 at 2011-01-10 05:54:05) [POST]
  Parameters: {"commit"=>"‰ΩúÊàê", "authenticity_token"=>"XZ5RJ9QE9nlcaet4Obvv9wSTBgm3Ni1OBhgtEwiy86I=", "item"=>{"price"=>"10,00 99", "name"=>"„ÉÜ„Çπ„Éà", "happen_at(1i)"=>"2011", "happen_at(2i)"=>"1", "happen_at(3i)"=>"10", "item_type"=>"expense"}}
  [4;36;1mItem Create (0.3ms)[0m   [0;1mINSERT INTO "items" ("name", "price", "created_at", "updated_at", "cycle", "cycle_mode", "happen_at", "item_type") VALUES('„ÉÜ„Çπ„Éà', 10, '2011-01-09 20:54:05', '2011-01-09 20:54:05', NULL, NULL, '2011-01-10', 'expense')[0m
Redirected to http://localhost:3000/?sum_type=all
Completed in 8ms (DB: 0) | 302 Found [http://localhost/items/create]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:54:06) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mItem Load (1.0ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 31ms (View: 25, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing ItemsController#new (for 127.0.0.1 at 2011-01-10 05:55:58) [GET]
Rendering template within layouts/base
Rendering items/new
Completed in 23ms (View: 19, DB: 0) | 200 OK [http://localhost/items/new]


Processing ItemsController#create (for 127.0.0.1 at 2011-01-10 05:56:09) [POST]
  Parameters: {"commit"=>"‰ΩúÊàê", "authenticity_token"=>"XZ5RJ9QE9nlcaet4Obvv9wSTBgm3Ni1OBhgtEwiy86I=", "item"=>{"price"=>"99,99 99", "name"=>"„ÉÜ„Çπ„Éà", "happen_at(1i)"=>"2011", "happen_at(2i)"=>"1", "happen_at(3i)"=>"10", "item_type"=>"expense"}}
  [4;36;1mItem Create (0.3ms)[0m   [0;1mINSERT INTO "items" ("name", "price", "created_at", "updated_at", "cycle", "cycle_mode", "happen_at", "item_type") VALUES('„ÉÜ„Çπ„Éà', 999999, '2011-01-09 20:56:09', '2011-01-09 20:56:09', NULL, NULL, '2011-01-10', 'expense')[0m
Redirected to http://localhost:3000/?sum_type=all
Completed in 8ms (DB: 0) | 302 Found [http://localhost/items/create]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:56:09) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mItem Load (0.9ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 28ms (View: 23, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing ItemsController#edit (for 127.0.0.1 at 2011-01-10 05:57:51) [GET]
  Parameters: {"id"=>"17"}
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" WHERE ("items"."id" = 17) [0m
Rendering template within layouts/base
Rendering items/edit
Completed in 26ms (View: 21, DB: 0) | 200 OK [http://localhost/items/edit/17]


Processing ItemsController#update (for 127.0.0.1 at 2011-01-10 05:58:07) [PUT]
  Parameters: {"commit"=>"‰øùÂ≠ò", "authenticity_token"=>"XZ5RJ9QE9nlcaet4Obvv9wSTBgm3Ni1OBhgtEwiy86I=", "id"=>"17", "item"=>{"price"=>"99,11 22", "name"=>"„ÉÜ„Çπ„Éà", "happen_at(1i)"=>"2011", "happen_at(2i)"=>"1", "happen_at(3i)"=>"10", "item_type"=>"expense"}}
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 17) [0m
  [4;36;1mItem Update (0.2ms)[0m   [0;1mUPDATE "items" SET "updated_at" = '2011-01-09 20:58:07', "price" = 991122 WHERE "id" = 17[0m
Redirected to http://localhost:3000/?sum_type=all
Completed in 33ms (DB: 0) | 302 Found [http://localhost/items/update/17]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:58:07) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mItem Load (0.9ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 28ms (View: 23, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing ItemsController#show (for 127.0.0.1 at 2011-01-10 05:58:27) [GET]
  Parameters: {"id"=>"17"}
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" WHERE ("items"."id" = 17) [0m
Rendering template within layouts/base
Rendering items/show
Completed in 21ms (View: 16, DB: 0) | 200 OK [http://localhost/items/show/17]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:58:33) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mItem Load (0.8ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 26ms (View: 22, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing ItemsController#show (for 127.0.0.1 at 2011-01-10 05:59:26) [GET]
  Parameters: {"id"=>"17"}
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" WHERE ("items"."id" = 17) [0m
Rendering template within layouts/base
Rendering items/show
Completed in 22ms (View: 17, DB: 0) | 200 OK [http://localhost/items/show/17]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:59:29) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mItem Load (0.8ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 65ms (View: 60, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing ItemsController#show (for 127.0.0.1 at 2011-01-10 05:59:42) [GET]
  Parameters: {"id"=>"17"}
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" WHERE ("items"."id" = 17) [0m
Rendering template within layouts/base
Rendering items/show
Completed in 25ms (View: 20, DB: 0) | 200 OK [http://localhost/items/show/17]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 05:59:52) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mItem Load (0.9ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 27ms (View: 21, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:00:09) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-6-10"}
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-06-01' AND happen_at <= '2011-06-30') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-06-01' AND happen_at <= '2011-06-30') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-06-01' AND happen_at <= '2011-06-30') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 19ms (View: 14, DB: 0) | 200 OK [http://localhost/?date=2011-6-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:02:15) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-6-10"}
  [4;35;1mItem Load (0.4ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-06-01' AND happen_at <= '2011-06-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-06-01' AND happen_at <= '2011-06-30') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-06-01' AND happen_at <= '2011-06-30') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 26ms (View: 19, DB: 1) | 200 OK [http://localhost/?date=2011-6-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:02:17) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;36;1mItem Load (0.5ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 23ms (View: 17, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-01-10 06:02:21) [GET]
  Parameters: {"id"=>"16", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 16) [0m
Rendering template within layouts/base
Rendering items/show
Completed in 20ms (View: 15, DB: 0) | 200 OK [http://localhost/items/show/16?date=2011-01-10]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:02:39) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 28ms (View: 23, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:02:46) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.5ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 23ms (View: 17, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-01-10 06:02:53) [GET]
  Parameters: {"id"=>"16", "date"=>"2011-01-10"}
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" WHERE ("items"."id" = 16) [0m
Rendering template within layouts/base
Rendering items/show
Completed in 60ms (View: 55, DB: 0) | 200 OK [http://localhost/items/show/16?date=2011-01-10]


Processing ItemsController#show (for 127.0.0.1 at 2011-01-10 06:03:52) [GET]
  Parameters: {"id"=>"16", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 16) [0m
Rendering template within layouts/base
Rendering items/show
Completed in 20ms (View: 15, DB: 0) | 200 OK [http://localhost/items/show/16?date=2011-01-10]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:03:58) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 29ms (View: 24, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:05:13) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.5ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 23ms (View: 17, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-01-10 06:05:15) [GET]
  Parameters: {"id"=>"16", "date"=>"2011-01-10"}
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" WHERE ("items"."id" = 16) [0m
Rendering template within layouts/base
Rendering items/show
Completed in 22ms (View: 17, DB: 0) | 200 OK [http://localhost/items/show/16?date=2011-01-10]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:05:17) [GET]
  Parameters: {"sum_type"=>"all", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.9ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 29ms (View: 23, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:05:42) [GET]
  Parameters: {"sum_type"=>"all", "date"=>"2011-01-10"}
  [4;36;1mItem Load (0.9ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 29ms (View: 24, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:06:19) [GET]
  Parameters: {"sum_type"=>"all", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.9ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 29ms (View: 24, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:06:30) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;36;1mItem Load (0.7ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 27ms (View: 18, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-01-10 06:09:22) [GET]
  Parameters: {"id"=>"16", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 16) [0m
Rendering template within layouts/base
Rendering items/show
Completed in 63ms (View: 18, DB: 0) | 200 OK [http://localhost/items/show/16?date=2011-01-10]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:09:25) [GET]
  Parameters: {"date"=>"2011-01-10"}
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 33ms (View: 28, DB: 1) | 200 OK [http://localhost/?date=2011-01-10]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:09:27) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.4ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 23ms (View: 17, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-01-10 06:09:30) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"16", "date"=>"2011-01-10"}
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" WHERE ("items"."id" = 16) [0m
Rendering template within layouts/base
Rendering items/show
Completed in 21ms (View: 16, DB: 0) | 200 OK [http://localhost/items/show/16?date=2011-01-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:09:32) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.5ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 70ms (View: 63, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:09:39) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-8-10"}
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-08-01' AND happen_at <= '2011-08-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-08-01' AND happen_at <= '2011-08-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-08-01' AND happen_at <= '2011-08-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 19ms (View: 14, DB: 0) | 200 OK [http://localhost/?date=2011-8-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:09:40) [GET]
  Parameters: {"sum_type"=>"year", "date"=>"2012-08-10"}
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2012-01-01' AND happen_at < '2013-01-01') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2012-01-01' AND happen_at < '2013-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2012-01-01' AND happen_at < '2013-01-01') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 21ms (View: 15, DB: 1) | 200 OK [http://localhost/?date=2012-08-10&sum_type=year]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:09:41) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2012-5-10"}
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2012-05-01' AND happen_at <= '2012-05-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2012-05-01' AND happen_at <= '2012-05-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2012-05-01' AND happen_at <= '2012-05-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 19ms (View: 14, DB: 0) | 200 OK [http://localhost/?date=2012-5-10&sum_type=month]


Processing ItemsController#new (for 127.0.0.1 at 2011-01-10 06:09:43) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2012-05-10"}
Rendering template within layouts/base
Rendering items/new
Completed in 25ms (View: 22, DB: 0) | 200 OK [http://localhost/items/new?date=2012-05-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:10:14) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mItem Load (0.9ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 71ms (View: 66, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:10:15) [GET]
  Parameters: {"sum_type"=>"year", "date"=>"2012-01-10"}
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2012-01-01' AND happen_at < '2013-01-01') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2012-01-01' AND happen_at < '2013-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2012-01-01' AND happen_at < '2013-01-01') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 20ms (View: 14, DB: 1) | 200 OK [http://localhost/?date=2012-01-10&sum_type=year]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:10:16) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2012-5-10"}
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2012-05-01' AND happen_at <= '2012-05-31') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2012-05-01' AND happen_at <= '2012-05-31') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2012-05-01' AND happen_at <= '2012-05-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 19ms (View: 14, DB: 1) | 200 OK [http://localhost/?date=2012-5-10&sum_type=month]


Processing ItemsController#new (for 127.0.0.1 at 2011-01-10 06:10:17) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2012-05-10"}
Rendering template within layouts/base
Rendering items/new
Completed in 26ms (View: 22, DB: 0) | 200 OK [http://localhost/items/new?date=2012-05-10&sum_type=month]


Processing ItemsController#create (for 127.0.0.1 at 2011-01-10 06:10:26) [POST]
  Parameters: {"commit"=>"‰ΩúÊàê", "sum_type"=>"month", "authenticity_token"=>"XZ5RJ9QE9nlcaet4Obvv9wSTBgm3Ni1OBhgtEwiy86I=", "date"=>"2012-05-10", "item"=>{"price"=>"100", "name"=>"„ÉÜ„Çπ„Éà", "happen_at(1i)"=>"2011", "happen_at(2i)"=>"1", "happen_at(3i)"=>"10", "item_type"=>"expense"}}
  [4;36;1mItem Create (0.2ms)[0m   [0;1mINSERT INTO "items" ("name", "price", "created_at", "updated_at", "cycle", "cycle_mode", "happen_at", "item_type") VALUES('„ÉÜ„Çπ„Éà', 100, '2011-01-09 21:10:26', '2011-01-09 21:10:26', NULL, NULL, '2011-01-10', 'expense')[0m
Redirected to http://localhost:3000/?sum_type=all
Completed in 8ms (DB: 0) | 302 Found [http://localhost/items/create?date=2012-05-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:10:26) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mItem Load (0.9ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 70ms (View: 25, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:10:59) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;36;1mItem Load (0.5ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 24ms (View: 18, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:11:00) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-7-10"}
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-07-01' AND happen_at <= '2011-07-31') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-07-01' AND happen_at <= '2011-07-31') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-07-01' AND happen_at <= '2011-07-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 19ms (View: 14, DB: 0) | 200 OK [http://localhost/?date=2011-7-10&sum_type=month]


Processing ItemsController#new (for 127.0.0.1 at 2011-01-10 06:11:01) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-07-10"}
Rendering template within layouts/base
Rendering items/new
Completed in 24ms (View: 20, DB: 0) | 200 OK [http://localhost/items/new?date=2011-07-10&sum_type=month]


Processing ItemsController#create (for 127.0.0.1 at 2011-01-10 06:11:06) [POST]
  Parameters: {"commit"=>"‰ΩúÊàê", "sum_type"=>"month", "authenticity_token"=>"XZ5RJ9QE9nlcaet4Obvv9wSTBgm3Ni1OBhgtEwiy86I=", "date"=>"2011-07-10", "item"=>{"price"=>"200", "name"=>"„ÉÜ„Çπ„Éà", "happen_at(1i)"=>"2011", "happen_at(2i)"=>"1", "happen_at(3i)"=>"10", "item_type"=>"expense"}}
  [4;36;1mItem Create (0.3ms)[0m   [0;1mINSERT INTO "items" ("name", "price", "created_at", "updated_at", "cycle", "cycle_mode", "happen_at", "item_type") VALUES('„ÉÜ„Çπ„Éà', 200, '2011-01-09 21:11:06', '2011-01-09 21:11:06', NULL, NULL, '2011-01-10', 'expense')[0m
Redirected to http://localhost:3000/?sum_type=month
Completed in 32ms (DB: 0) | 302 Found [http://localhost/items/create?date=2011-07-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:11:07) [GET]
  Parameters: {"sum_type"=>"month"}
  [4;35;1mItem Load (0.6ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 67ms (View: 20, DB: 1) | 200 OK [http://localhost/?sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:11:57) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;36;1mItem Load (0.6ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 25ms (View: 19, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:11:58) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-8-10"}
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-08-01' AND happen_at <= '2011-08-31') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-08-01' AND happen_at <= '2011-08-31') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-08-01' AND happen_at <= '2011-08-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 20ms (View: 14, DB: 1) | 200 OK [http://localhost/?date=2011-8-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:12:00) [GET]
  Parameters: {"sum_type"=>"year", "date"=>"2012-08-10"}
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2012-01-01' AND happen_at < '2013-01-01') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2012-01-01' AND happen_at < '2013-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2012-01-01' AND happen_at < '2013-01-01') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 19ms (View: 14, DB: 0) | 200 OK [http://localhost/?date=2012-08-10&sum_type=year]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:12:01) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2012-5-10"}
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2012-05-01' AND happen_at <= '2012-05-31') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2012-05-01' AND happen_at <= '2012-05-31') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2012-05-01' AND happen_at <= '2012-05-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 20ms (View: 14, DB: 1) | 200 OK [http://localhost/?date=2012-5-10&sum_type=month]


Processing ItemsController#new (for 127.0.0.1 at 2011-01-10 06:12:02) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2012-05-10"}
Rendering template within layouts/base
Rendering items/new
Completed in 22ms (View: 18, DB: 0) | 200 OK [http://localhost/items/new?date=2012-05-10&sum_type=month]


Processing ItemsController#create (for 127.0.0.1 at 2011-01-10 06:12:10) [POST]
  Parameters: {"commit"=>"‰ΩúÊàê", "sum_type"=>"month", "authenticity_token"=>"XZ5RJ9QE9nlcaet4Obvv9wSTBgm3Ni1OBhgtEwiy86I=", "date"=>"2012-05-10", "item"=>{"price"=>"100", "name"=>"„ÉÜ„Çπ„Éà", "happen_at(1i)"=>"2011", "happen_at(2i)"=>"1", "happen_at(3i)"=>"10", "item_type"=>"expense"}}
  [4;36;1mItem Create (0.2ms)[0m   [0;1mINSERT INTO "items" ("name", "price", "created_at", "updated_at", "cycle", "cycle_mode", "happen_at", "item_type") VALUES('„ÉÜ„Çπ„Éà', 100, '2011-01-09 21:12:10', '2011-01-09 21:12:10', NULL, NULL, '2011-01-10', 'expense')[0m
Redirected to http://localhost:3000/?date=2012-05-10&sum_type=month
Completed in 8ms (DB: 0) | 302 Found [http://localhost/items/create?date=2012-05-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:12:10) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2012-05-10"}
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2012-05-01' AND happen_at <= '2012-05-31') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2012-05-01' AND happen_at <= '2012-05-31') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2012-05-01' AND happen_at <= '2012-05-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 20ms (View: 14, DB: 1) | 200 OK [http://localhost/?date=2012-05-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:12:14) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;36;1mItem Load (0.6ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 26ms (View: 20, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:12:18) [GET]
  Parameters: {"sum_type"=>"year", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.6ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at < '2012-01-01') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 27ms (View: 21, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=year]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:12:19) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;36;1mItem Load (0.6ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 26ms (View: 20, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:12:20) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.6ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at = '2011-01-10') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2011-01-10') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2011-01-10') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 26ms (View: 21, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=day]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:12:21) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;36;1mItem Load (0.6ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 27ms (View: 20, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:12:24) [GET]
  Parameters: {"sum_type"=>"year", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.6ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at < '2012-01-01') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 27ms (View: 21, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=year]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:12:57) [GET]
  Parameters: {"sum_type"=>"year", "date"=>"2010-01-10"}
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2010-01-01' AND happen_at < '2011-01-01') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 70ms (View: 63, DB: 1) | 200 OK [http://localhost/?date=2010-01-10&sum_type=year]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:13:01) [GET]
  Parameters: {"sum_type"=>"year", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.6ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at < '2012-01-01') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 27ms (View: 21, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=year]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:13:04) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;36;1mItem Load (0.7ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 29ms (View: 21, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:13:05) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-2-10"}
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-02-01' AND happen_at <= '2011-02-28') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-02-01' AND happen_at <= '2011-02-28') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-02-01' AND happen_at <= '2011-02-28') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 21ms (View: 15, DB: 1) | 200 OK [http://localhost/?date=2011-2-10&sum_type=month]


Processing ItemsController#new (for 127.0.0.1 at 2011-01-10 06:13:08) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-02-10"}
Rendering template within layouts/base
Rendering items/new
Completed in 22ms (View: 18, DB: 0) | 200 OK [http://localhost/items/new?date=2011-02-10&sum_type=month]


Processing ItemsController#create (for 127.0.0.1 at 2011-01-10 06:13:22) [POST]
  Parameters: {"commit"=>"‰ΩúÊàê", "sum_type"=>"month", "authenticity_token"=>"XZ5RJ9QE9nlcaet4Obvv9wSTBgm3Ni1OBhgtEwiy86I=", "date"=>"2011-02-10", "item"=>{"price"=>"2,0 0", "name"=>"„ÉÜ„Çπ„Éà", "happen_at(1i)"=>"2011", "happen_at(2i)"=>"2", "happen_at(3i)"=>"10", "item_type"=>"expense"}}
  [4;36;1mItem Create (0.3ms)[0m   [0;1mINSERT INTO "items" ("name", "price", "created_at", "updated_at", "cycle", "cycle_mode", "happen_at", "item_type") VALUES('„ÉÜ„Çπ„Éà', 200, '2011-01-09 21:13:22', '2011-01-09 21:13:22', NULL, NULL, '2011-02-10', 'expense')[0m
Redirected to http://localhost:3000/?date=2011-02-10&sum_type=month
Completed in 9ms (DB: 0) | 302 Found [http://localhost/items/create?date=2011-02-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:13:22) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-02-10"}
  [4;35;1mItem Load (0.4ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-02-01' AND happen_at <= '2011-02-28') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-02-01' AND happen_at <= '2011-02-28') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-02-01' AND happen_at <= '2011-02-28') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 21ms (View: 15, DB: 1) | 200 OK [http://localhost/?date=2011-02-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:13:38) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-4-10"}
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 19ms (View: 14, DB: 1) | 200 OK [http://localhost/?date=2011-4-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:13:39) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-5-10"}
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-05-01' AND happen_at <= '2011-05-31') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-05-01' AND happen_at <= '2011-05-31') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-05-01' AND happen_at <= '2011-05-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 20ms (View: 14, DB: 1) | 200 OK [http://localhost/?date=2011-5-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:14:48) [GET]
  [4;36;1mItem Load (0.9ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 30ms (View: 24, DB: 1) | 200 OK [http://localhost/]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:17:33) [GET]
  [4;35;1mItem Load (0.6ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 65ms (View: 20, DB: 1) | 200 OK [http://localhost/]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:17:44) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 45ms (View: 27, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:17:56) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-01-10"}
  [4;35;1mItem Load (0.6ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at <= '2011-01-31') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 28ms (View: 22, DB: 1) | 200 OK [http://localhost/?date=2011-01-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-01-10 06:18:00) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/base
Rendering total/amount
Completed in 29ms (View: 25, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing SummaryController#list (for 127.0.0.1 at 2011-01-10 06:18:08) [GET]
  [4;35;1mItem Load (0.5ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at ASC LIMIT 1[0m
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
Rendering template within layouts/summary
Rendering summary/list
Completed in 63ms (View: 11, DB: 2) | 200 OK [http://localhost/summary]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 11:14:31) [GET]
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 37ms (View: 25, DB: 1) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateItems (1)
Migrating to ChangeAddColumn (2)
Migrating to CreateUsers (20110410030449)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login_id" varchar(255), "hashed_password" varchar(255), "salt" varchar(255), "display_name" varchar(255), "level" varchar(255), "twitter_id" varchar(255), "mail_address" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20110410030449')[0m
  [4;35;1mSQL (0.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("items")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 12:56:38) [GET]
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/base
Rendering total/amount
Completed in 53ms (View: 49, DB: 0) | 200 OK [http://localhost/]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 12:58:57) [GET]
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 16ms (View: 11, DB: 1) | 200 OK [http://localhost/]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 13:00:58) [GET]
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 27ms (View: 15, DB: 1) | 200 OK [http://localhost/]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 13:08:03) [GET]
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 12ms (View: 7, DB: 1) | 200 OK [http://localhost/]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 13:09:52) [GET]
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 14ms (View: 7, DB: 1) | 200 OK [http://localhost/]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 13:11:08) [GET]
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 13ms (View: 8, DB: 1) | 200 OK [http://localhost/]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 13:12:25) [GET]
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 13ms (View: 7, DB: 1) | 200 OK [http://localhost/]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:12:50) [GET]
Rendering template within layouts/application
Rendering entry/login
Completed in 14ms (View: 9, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:13:04) [GET]
Rendering template within layouts/application
Rendering entry/login
Completed in 10ms (View: 6, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:13:22) [GET]
Rendering template within layouts/application
Rendering entry/login
Completed in 10ms (View: 6, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:14:22) [GET]
Rendering template within layouts/application
Rendering entry/login
Completed in 10ms (View: 6, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:15:03) [GET]
Rendering template within layouts/application
Rendering entry/login
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:15:22) [GET]
Rendering template within layouts/application
Rendering entry/login
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:15:42) [GET]
Rendering template within layouts/application
Rendering entry/login
Completed in 12ms (View: 8, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:18:21) [GET]
Rendering template within layouts/application
Rendering entry/login
Completed in 14ms (View: 9, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:18:33) [GET]
Rendering template within layouts/application
Rendering entry/login
Completed in 48ms (View: 42, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:18:44) [GET]
Rendering template within layouts/application
Rendering entry/login
Completed in 13ms (View: 9, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:18:55) [GET]
Rendering template within layouts/application
Rendering entry/login
Completed in 14ms (View: 10, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:22:45) [GET]
Rendering template within layouts/application
Rendering entry/login
Completed in 13ms (View: 9, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:23:00) [GET]
Rendering template within layouts/application
Rendering entry/login
Completed in 12ms (View: 8, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:23:08) [GET]
Rendering template within layouts/application
Rendering entry/login
Completed in 14ms (View: 10, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:23:23) [GET]
Rendering template within layouts/application
Rendering entry/login
Completed in 15ms (View: 11, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:23:29) [POST]
  Parameters: {"commit"=>"„É≠„Ç∞„Ç§„É≥", "authenticity_token"=>"eo6bwkejlLsq9E47bYiwZ/RR/9wgLMiLuBYGBtl101s=", "login"=>{"login_id"=>"test", "password"=>"test"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."login_id" = 'test') LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/login
Completed in 45ms (View: 38, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#input (for 127.0.0.1 at 2011-04-10 13:23:37) [GET]
Rendering template within layouts/application
Rendering entry/input
Completed in 12ms (View: 9, DB: 0) | 200 OK [http://localhost/entry/input]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:24:04) [GET]
Rendering template within layouts/application
Rendering entry/login
Completed in 9ms (View: 6, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:24:05) [POST]
  Parameters: {"commit"=>"„É≠„Ç∞„Ç§„É≥", "authenticity_token"=>"eo6bwkejlLsq9E47bYiwZ/RR/9wgLMiLuBYGBtl101s=", "login"=>{"login_id"=>"test", "password"=>"test"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."login_id" = 'test') LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/login
Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#input (for 127.0.0.1 at 2011-04-10 13:24:07) [GET]
Rendering template within layouts/application
Rendering entry/input
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/entry/input]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:25:24) [GET]
Rendering template within layouts/application
Rendering entry/login
Completed in 13ms (View: 7, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 13:25:26) [POST]
  Parameters: {"commit"=>"„É≠„Ç∞„Ç§„É≥", "authenticity_token"=>"eo6bwkejlLsq9E47bYiwZ/RR/9wgLMiLuBYGBtl101s=", "login"=>{"login_id"=>"test", "password"=>"test"}}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."login_id" = 'test') LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/login
Completed in 10ms (View: 6, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#input (for 127.0.0.1 at 2011-04-10 13:25:29) [GET]
Rendering template within layouts/application
Rendering entry/input
Completed in 10ms (View: 7, DB: 0) | 200 OK [http://localhost/entry/input]


Processing EntryController#input (for 127.0.0.1 at 2011-04-10 13:26:04) [GET]
Rendering template within layouts/application
Rendering entry/input
ERROR: compiling _run_erb_app47views47entry47input46html46erb RAISED compile error
/Users/raisondetre0115/Mine/workspace/libra/app/views/entry/input.html.erb:7: syntax error, unexpected '='
...alue => @user.login_id, class="input_field_width_200" ).to_s...
                              ^
Function body:           def _run_erb_app47views47entry47input46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\r\n"
;  form_for :user, :url => { :controller => "entry", :action => "input" } do |f| ; @output_buffer.concat "\r\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\r\n\r\n  <p>\r\n    "


; @output_buffer.concat(( f.label :login_id, "*„É≠„Ç∞„Ç§„É≥ID" ).to_s); @output_buffer.concat "<br />\r\n    "
; @output_buffer.concat(( f.text_field :login_id, :value => @user.login_id, class="input_field_width_200" ).to_s); @output_buffer.concat "\r\n  </p>\r\n\r\n  <br />\r\n  \r\n  <p>\r\n    "





; @output_buffer.concat(( f.label :password, "*„Éë„Çπ„ÉØ„Éº„Éâ" ).to_s); @output_buffer.concat "<br />\r\n    <span class=\"input_field_width_200\">"
; @output_buffer.concat(( f.password_field :password, :value => @user.password ).to_s); @output_buffer.concat "</span>\r\n  </p>\r\n\r\n  <br />\r\n  \r\n  <p>\r\n    "





; @output_buffer.concat(( f.label :password_confirmation, "*„Éë„Çπ„ÉØ„Éº„ÉâÁ¢∫Ë™ç" ).to_s); @output_buffer.concat "<br />\r\n    <span class=\"input_field_width_200\">"
; @output_buffer.concat(( f.password_field :password_confirmation, :value => @user.password_confirmation ).to_s); @output_buffer.concat "</span>\r\n  </p>\r\n  \r\n  <br />\r\n  \r\n  <p>\r\n    "





; @output_buffer.concat(( f.label :display_name, "Ë°®Á§∫Âêç" ).to_s); @output_buffer.concat "<br />\r\n    <span class=\"input_field_width_200\">"
; @output_buffer.concat(( f.text_field :display_name, :value => @user.display_name ).to_s); @output_buffer.concat "</span>\r\n  </p>\r\n  \r\n  <br />\r\n  \r\n"




;  if false ; @output_buffer.concat "\r\n  <p>\r\n    "

; @output_buffer.concat(( f.label :twitter_id, "Twitter ID" ).to_s); @output_buffer.concat "<br />\r\n    <span class=\"input_field_width_200\">"
; @output_buffer.concat(( f.text_field :twitter_id, :value => @user.twitter_id ).to_s); @output_buffer.concat "</span>\r\n  </p>\r\n  \r\n  <br />\r\n"



;  end ; @output_buffer.concat "\r\n\r\n  <p>\r\n    "


; @output_buffer.concat(( f.submit 'Á¢∫Ë™ç' ).to_s); @output_buffer.concat "\r\n  </p>\r\n"

;  end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end

Backtrace: /Users/raisondetre0115/Mine/workspace/libra/app/views/entry/input.html.erb:48:in `compile!'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/raisondetre0115/Mine/workspace/libra/app/views/entry/input.html.erb:7: syntax error, unexpected '='
...alue => @user.login_id, class="input_field_width_200" ).to_s...
                              ^) on line #7 of app/views/entry/input.html.erb:
4: 
5:   <p>
6:     <%= f.label :login_id, "*„É≠„Ç∞„Ç§„É≥ID" %><br />
7:     <%= f.text_field :login_id, :value => @user.login_id, class="input_field_width_200" %>
8:   </p>
9: 
10:   <br />

    app/views/entry/input.html.erb:48:in `compile!'


Rendered rescues/_trace (69.6ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing EntryController#input (for 127.0.0.1 at 2011-04-10 13:26:20) [GET]
Rendering template within layouts/application
Rendering entry/input
Completed in 13ms (View: 10, DB: 0) | 200 OK [http://localhost/entry/input]


Processing EntryController#input (for 127.0.0.1 at 2011-04-10 13:28:07) [GET]
Rendering template within layouts/application
Rendering entry/input
Completed in 15ms (View: 10, DB: 0) | 200 OK [http://localhost/entry/input]


Processing EntryController#input (for 127.0.0.1 at 2011-04-10 13:30:02) [POST]
  Parameters: {"commit"=>"Á¢∫Ë™ç", "authenticity_token"=>"eo6bwkejlLsq9E47bYiwZ/RR/9wgLMiLuBYGBtl101s=", "user"=>{"password_confirmation"=>"test", "display_name"=>"„ÉÜ„Çπ„Éà", "login_id"=>"test", "password"=>"test"}}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login_id" = 'test') LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/confirmation
Completed in 17ms (View: 12, DB: 0) | 200 OK [http://localhost/entry/input]


Processing EntryController#input (for 127.0.0.1 at 2011-04-10 13:30:09) [POST]
  Parameters: {"commit"=>"Êàª„Çã", "authenticity_token"=>"eo6bwkejlLsq9E47bYiwZ/RR/9wgLMiLuBYGBtl101s=", "user"=>{"twitter_id"=>"", "display_name"=>"„ÉÜ„Çπ„Éà", "login_id"=>"test", "password"=>"test"}}
Rendering template within layouts/application
Rendering entry/input
Completed in 10ms (View: 6, DB: 0) | 200 OK [http://localhost/entry/input]


Processing EntryController#input (for 127.0.0.1 at 2011-04-10 13:30:15) [POST]
  Parameters: {"commit"=>"Á¢∫Ë™ç", "authenticity_token"=>"eo6bwkejlLsq9E47bYiwZ/RR/9wgLMiLuBYGBtl101s=", "user"=>{"password_confirmation"=>"test", "display_name"=>"„ÉÜ„Çπ„Éà", "login_id"=>"test", "password"=>"test"}}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login_id" = 'test') LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/confirmation
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/entry/input]


Processing EntryController#complete (for 127.0.0.1 at 2011-04-10 13:30:18) [POST]
  Parameters: {"commit"=>"ÁôªÈå≤", "authenticity_token"=>"eo6bwkejlLsq9E47bYiwZ/RR/9wgLMiLuBYGBtl101s=", "user"=>{"display_name"=>"„ÉÜ„Çπ„Éà", "login_id"=>"test", "password"=>"test"}}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login_id" = 'test') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("salt", "mail_address", "created_at", "updated_at", "hashed_password", "level", "twitter_id", "login_id", "display_name") VALUES('21755461600.811846160790058', NULL, '2011-04-10 13:30:18', '2011-04-10 13:30:18', '104e991e8b88ba4967e8aeab444114596772e1ad', NULL, NULL, 'test', '„ÉÜ„Çπ„Éà')[0m
Redirected to http://localhost:3000/
Completed in 9ms (DB: 0) | 302 Found [http://localhost/entry/complete]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 13:30:18) [GET]
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 12ms (View: 7, DB: 0) | 200 OK [http://localhost/]


Processing EntryController#show (for 127.0.0.1 at 2011-04-10 13:31:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/show
Completed in 15ms (View: 10, DB: 0) | 200 OK [http://localhost/entry/show/1]


Processing EntryController#edit (for 127.0.0.1 at 2011-04-10 13:31:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/edit
Completed in 17ms (View: 13, DB: 0) | 200 OK [http://localhost/entry/edit/1]


Processing EntryController#edit (for 127.0.0.1 at 2011-04-10 13:32:00) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/edit
Completed in 18ms (View: 14, DB: 0) | 200 OK [http://localhost/entry/edit/1]


Processing EntryController#edit_password (for 127.0.0.1 at 2011-04-10 13:32:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::MissingTemplate (Missing template entry/edit_password.erb in view path app/views):
  


Rendering rescues/layout (internal_server_error)


Processing EntryController#edit_password (for 127.0.0.1 at 2011-04-10 13:39:36) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering entry/edit_password
Completed in 17ms (View: 14, DB: 0) | 200 OK [http://localhost/entry/edit_password/1]


Processing EntryController#edit (for 127.0.0.1 at 2011-04-10 13:39:44) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/edit
Completed in 16ms (View: 12, DB: 0) | 200 OK [http://localhost/entry/edit/1]


Processing EntryController#show (for 127.0.0.1 at 2011-04-10 13:39:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/show
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/entry/show/1]


Processing EntryController#show (for 127.0.0.1 at 2011-04-10 13:40:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/show
Completed in 16ms (View: 12, DB: 0) | 200 OK [http://localhost/entry/show/1]


Processing EntryController#show (for 127.0.0.1 at 2011-04-10 13:40:22) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/show
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/entry/show/1]


Processing EntryController#show (for 127.0.0.1 at 2011-04-10 13:40:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/show
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/entry/show/1]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 13:40:48) [GET]
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 12ms (View: 7, DB: 1) | 200 OK [http://localhost/]


Processing EntryController#show (for 127.0.0.1 at 2011-04-10 13:40:52) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/show
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/entry/show]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 13:43:38) [GET]
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 12ms (View: 7, DB: 1) | 200 OK [http://localhost/]


Processing EntryController#show (for 127.0.0.1 at 2011-04-10 13:43:41) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/show
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/entry/show]


Processing EntryController#show (for 127.0.0.1 at 2011-04-10 13:43:46) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/show
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/entry/show]


Processing EntryController#show (for 127.0.0.1 at 2011-04-10 13:44:13) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/show
Completed in 35ms (View: 17, DB: 0) | 200 OK [http://localhost/entry/show]


Processing EntryController#show (for 127.0.0.1 at 2011-04-10 13:44:17) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/show
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/entry/show]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 13:44:23) [GET]
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 17ms (View: 12, DB: 1) | 200 OK [http://localhost/]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 13:44:39) [GET]
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 13ms (View: 8, DB: 1) | 200 OK [http://localhost/]


Processing EntryController#show (for 127.0.0.1 at 2011-04-10 13:44:40) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/show
Completed in 14ms (View: 10, DB: 0) | 200 OK [http://localhost/entry/show]


Processing EntryController#edit (for 127.0.0.1 at 2011-04-10 13:44:43) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/edit
Completed in 52ms (View: 48, DB: 0) | 200 OK [http://localhost/entry/edit]


Processing EntryController#edit_password (for 127.0.0.1 at 2011-04-10 13:44:46) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/edit_password
Completed in 16ms (View: 12, DB: 0) | 200 OK [http://localhost/entry/edit_password]


Processing EntryController#show (for 127.0.0.1 at 2011-04-10 13:44:48) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/show
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/entry/show/1]


Processing EntryController#edit (for 127.0.0.1 at 2011-04-10 13:44:49) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/edit
Completed in 14ms (View: 11, DB: 0) | 200 OK [http://localhost/entry/edit]


Processing EntryController#update (for 127.0.0.1 at 2011-04-10 13:44:52) [POST]
  Parameters: {"commit"=>"‰øùÂ≠ò", "authenticity_token"=>"eo6bwkejlLsq9E47bYiwZ/RR/9wgLMiLuBYGBtl101s=", "id"=>"1", "user"=>{"display_name"=>"„ÉÜ„Çπ„Éà", "login_id"=>"test", "password"=>""}}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/entry/edit
Completed in 7ms (DB: 0) | 302 Found [http://localhost/entry/update/1]


Processing EntryController#edit (for 127.0.0.1 at 2011-04-10 13:44:52) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/edit
Completed in 52ms (View: 48, DB: 0) | 200 OK [http://localhost/entry/edit]


Processing EntryController#update (for 127.0.0.1 at 2011-04-10 13:44:56) [POST]
  Parameters: {"commit"=>"‰øùÂ≠ò", "authenticity_token"=>"eo6bwkejlLsq9E47bYiwZ/RR/9wgLMiLuBYGBtl101s=", "id"=>"1", "user"=>{"display_name"=>"„ÉÜ„Çπ„Éà", "login_id"=>"test", "password"=>"test"}}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login_id" = 'test' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2011-04-10 13:44:56', "salt" = '21760097400.83625223099464', "hashed_password" = '926cfb5c11fe57c0f52172f5bf5ff52b8ae72bf9' WHERE "id" = 1[0m
Redirected to http://localhost:3000/entry/show
Completed in 9ms (DB: 1) | 302 Found [http://localhost/entry/update/1]


Processing EntryController#show (for 127.0.0.1 at 2011-04-10 13:44:56) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/show
Completed in 13ms (View: 9, DB: 0) | 200 OK [http://localhost/entry/show]


Processing EntryController#edit (for 127.0.0.1 at 2011-04-10 13:44:59) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/edit
Completed in 14ms (View: 10, DB: 0) | 200 OK [http://localhost/entry/edit]


Processing EntryController#edit (for 127.0.0.1 at 2011-04-10 13:45:23) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/edit
Completed in 52ms (View: 48, DB: 0) | 200 OK [http://localhost/entry/edit]


Processing EntryController#edit (for 127.0.0.1 at 2011-04-10 13:47:08) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/edit
Completed in 16ms (View: 11, DB: 0) | 200 OK [http://localhost/entry/edit]


Processing EntryController#update (for 127.0.0.1 at 2011-04-10 13:47:11) [POST]
  Parameters: {"commit"=>"Â§âÊõ¥", "authenticity_token"=>"eo6bwkejlLsq9E47bYiwZ/RR/9wgLMiLuBYGBtl101s=", "id"=>"1", "user"=>{"display_name"=>"„ÉÜ„Çπ„Éà", "login_id"=>"test", "password"=>""}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/entry/edit
Completed in 6ms (DB: 0) | 302 Found [http://localhost/entry/update/1]


Processing EntryController#edit (for 127.0.0.1 at 2011-04-10 13:47:11) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/edit
Completed in 15ms (View: 10, DB: 0) | 200 OK [http://localhost/entry/edit]


Processing EntryController#update (for 127.0.0.1 at 2011-04-10 13:47:14) [POST]
  Parameters: {"commit"=>"Â§âÊõ¥", "authenticity_token"=>"eo6bwkejlLsq9E47bYiwZ/RR/9wgLMiLuBYGBtl101s=", "id"=>"1", "user"=>{"display_name"=>"„ÉÜ„Çπ„Éà", "login_id"=>"test", "password"=>"test"}}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login_id" = 'test' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2011-04-10 13:47:14', "salt" = '21744818000.00529765756619716', "hashed_password" = '3d3243cc4092d890756f14191ce508af50d5d7fa' WHERE "id" = 1[0m
Redirected to http://localhost:3000/entry/show
Completed in 10ms (DB: 1) | 302 Found [http://localhost/entry/update/1]


Processing EntryController#show (for 127.0.0.1 at 2011-04-10 13:47:14) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/show
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/entry/show]


Processing EntryController#edit (for 127.0.0.1 at 2011-04-10 13:47:16) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/edit
Completed in 14ms (View: 11, DB: 0) | 200 OK [http://localhost/entry/edit]


Processing EntryController#edit_password (for 127.0.0.1 at 2011-04-10 13:47:17) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/edit_password
Completed in 14ms (View: 10, DB: 0) | 200 OK [http://localhost/entry/edit_password]


Processing EntryController#update_password (for 127.0.0.1 at 2011-04-10 13:47:25) [POST]
  Parameters: {"commit"=>"Â§âÊõ¥", "authenticity_token"=>"eo6bwkejlLsq9E47bYiwZ/RR/9wgLMiLuBYGBtl101s=", "id"=>"1", "user"=>{"password_confirmation"=>"test", "edit_password"=>"test", "password"=>"test"}}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login_id" = 'test' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2011-04-10 13:47:25', "salt" = '21747470600.0785217134580365', "hashed_password" = '7c8586ee47225ef8ed6f17c28660172db8113b37' WHERE "id" = 1[0m
Redirected to http://localhost:3000/entry/show/1
Completed in 9ms (DB: 0) | 302 Found [http://localhost/entry/update_password/1]


Processing EntryController#show (for 127.0.0.1 at 2011-04-10 13:47:25) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering entry/show
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/entry/show/1]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 13:47:28) [GET]
  [4;36;1mItem Load (0.3ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 13ms (View: 7, DB: 1) | 200 OK [http://localhost/]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 13:51:16) [GET]
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 12ms (View: 7, DB: 1) | 200 OK [http://localhost/]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 13:56:48) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 57ms (View: 32, DB: 0) | 200 OK [http://localhost/]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 13:59:49) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 70ms (View: 61, DB: 1) | 200 OK [http://localhost/]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:07:46) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 89ms (View: 80, DB: 0) | 200 OK [http://localhost/]


Processing EntryController#logout (for 127.0.0.1 at 2011-04-10 16:07:48) [POST]
  Parameters: {"commit"=>"„É≠„Ç∞„Ç¢„Ç¶„Éà", "method"=>"put", "authenticity_token"=>"eo6bwkejlLsq9E47bYiwZ/RR/9wgLMiLuBYGBtl101s=", "request_url"=>"http://localhost:3000/"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/entry/login
Completed in 5ms (DB: 0) | 302 Found [http://localhost/entry/logout?method=put]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 16:07:48) [GET]
Rendering template within layouts/application
Rendering entry/login
Completed in 42ms (View: 39, DB: 0) | 200 OK [http://localhost/entry/login]


Processing EntryController#login (for 127.0.0.1 at 2011-04-10 16:07:50) [POST]
  Parameters: {"commit"=>"„É≠„Ç∞„Ç§„É≥", "authenticity_token"=>"eo6bwkejlLsq9E47bYiwZ/RR/9wgLMiLuBYGBtl101s=", "login"=>{"login_id"=>"test", "password"=>"test"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."login_id" = 'test') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT login_id, display_name FROM "users" WHERE (id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 6ms (DB: 0) | 302 Found [http://localhost/entry/login]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:07:50) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 14ms (View: 6, DB: 1) | 200 OK [http://localhost/]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:10:08) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 18ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:10:10) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 25ms (View: 17, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing SummaryController#list (for 127.0.0.1 at 2011-04-10 16:10:12) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at ASC LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
Rendering template within layouts/application
Rendering summary/list
Completed in 31ms (View: 8, DB: 1) | 200 OK [http://localhost/summary]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:10:15) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.4ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 59ms (View: 17, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:10:16) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:10:23) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.6ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 26ms (View: 17, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing SummaryController#list (for 127.0.0.1 at 2011-04-10 16:10:26) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at ASC LIMIT 1[0m
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
Rendering template within layouts/application
Rendering summary/list
Completed in 19ms (View: 6, DB: 1) | 200 OK [http://localhost/summary]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:10:33) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 25ms (View: 17, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:12:03) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 24ms (View: 17, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:12:26) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:12:29) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 62ms (View: 55, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:13:13) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 40ms (View: 32, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:14:30) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 42ms (View: 34, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:14:37) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-3-10"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-03-01' AND happen_at <= '2011-03-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-03-01' AND happen_at <= '2011-03-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-03-01' AND happen_at <= '2011-03-31') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 65ms (View: 56, DB: 0) | 200 OK [http://localhost/?date=2011-3-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:15:15) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-3-10"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-03-01' AND happen_at <= '2011-03-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-03-01' AND happen_at <= '2011-03-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-03-01' AND happen_at <= '2011-03-31') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 31ms (View: 22, DB: 0) | 200 OK [http://localhost/?date=2011-3-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:15:48) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 40ms (View: 32, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:16:44) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.5ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 77ms (View: 33, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:17:24) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-12-10"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-12-01' AND happen_at <= '2011-12-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-12-01' AND happen_at <= '2011-12-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-12-01' AND happen_at <= '2011-12-31') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 26ms (View: 17, DB: 0) | 200 OK [http://localhost/?date=2011-12-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:19:06) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 35ms (View: 28, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:19:10) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-9-10"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-09-01' AND happen_at <= '2011-09-30') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-09-01' AND happen_at <= '2011-09-30') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-09-01' AND happen_at <= '2011-09-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 65ms (View: 17, DB: 1) | 200 OK [http://localhost/?date=2011-9-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:19:51) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 40ms (View: 32, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:19:54) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-10-10"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-10-01' AND happen_at <= '2011-10-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-10-01' AND happen_at <= '2011-10-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-10-01' AND happen_at <= '2011-10-31') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 25ms (View: 17, DB: 0) | 200 OK [http://localhost/?date=2011-10-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:23:29) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-10-10"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-10-01' AND happen_at <= '2011-10-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-10-01' AND happen_at <= '2011-10-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-10-01' AND happen_at <= '2011-10-31') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 64ms (View: 56, DB: 0) | 200 OK [http://localhost/?date=2011-10-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:24:20) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2011-10-14"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at = '2011-10-14') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2011-10-14') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2011-10-14') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 25ms (View: 17, DB: 0) | 200 OK [http://localhost/?date=2011-10-14&sum_type=day]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:25:38) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2011-10-14"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at = '2011-10-14') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2011-10-14') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2011-10-14') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 25ms (View: 17, DB: 0) | 200 OK [http://localhost/?date=2011-10-14&sum_type=day]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:28:40) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2011-10-14"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at = '2011-10-14') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2011-10-14') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2011-10-14') [0m
Rendering template within layouts/application
Rendering total/amount
ERROR: compiling _run_erb_app47views47total47amount46html46erb RAISED compile error
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:41: syntax error, unexpected '<', expecting kEND
; @output_buffer.concat(( "#{month}Êúà" ).to_s); </span>
                                                  ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:49: unknown regexp options - dv
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:49: syntax error, unexpected $undefined
...utput_buffer.concat "\n</div>\n\n<br />\n<br />\n\n<h1>Total...
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:49: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
...ffer.concat "\n</div>\n\n<br />\n<br />\n\n<h1>Total#"
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:49: syntax error, unexpected $undefined
...t "\n</div>\n\n<br />\n<br />\n\n<h1>Total#"
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:136: syntax error, unexpected kENSURE, expecting kEND
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:138: syntax error, unexpected $end, expecting kEND
Function body:           def _run_erb_app47views47total47amount46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n<div class=\"pagination\">\n\n"


; @output_buffer.concat(( link_to( "‰ªäÊó•", :controller => "total", :action => 'amount', :date => Date.new( Time.now.year, Time.now.month, Time.now.day ), :sum_type => "day" ) ).to_s)
@output_buffer.concat "\343\200\200"; @output_buffer.concat(( link_to( "‰ªäÊúà", :controller => "total", :action => 'amount', :date => Date.new( Time.now.year, Time.now.month, Time.now.day ), :sum_type => "month" ) ).to_s)
@output_buffer.concat "\343\200\200"; @output_buffer.concat(( link_to( "‰ªäÂπ¥", :controller => "total", :action => 'amount', :date => Date.new( Time.now.year, Time.now.month, Time.now.day ), :sum_type => "year" ) ).to_s); @output_buffer.concat "<br />\n\n<br />\n\n"



; @output_buffer.concat "\n"
; @output_buffer.concat(( link_to( "#{(@now_date.last_year).year}Âπ¥", :controller => "total", :action=>'amount', :date => (@now_date.last_year), :sum_type => "year" ) ).to_s)
@output_buffer.concat "\n"
;  if @sum_type == "year" or @sum_type == "month" or @sum_type == "day" ; @output_buffer.concat "\n<span class=\"current\">"
; @output_buffer.concat(( "#{@now_date.year}Âπ¥" ).to_s); @output_buffer.concat "</span>\n"
;  else ; @output_buffer.concat "\n"
; @output_buffer.concat(( link_to( "#{@now_date.year}Âπ¥", :controller => "total", :action=>'amount', :date => @now_date, :sum_type => "year" ) ).to_s)
 end ; @output_buffer.concat "\n"
; @output_buffer.concat "\n"
; @output_buffer.concat(( link_to( "#{(@now_date.next_year).year}Âπ¥", :controller => "total", :action=>'amount', :date => (@now_date.next_year), :sum_type => "year" ) ).to_s)
@output_buffer.concat "\n<br />\n<br />\n\n"



; @output_buffer.concat "\n"
;  1.upto( 12 ) { |month| ; @output_buffer.concat "\n\t"
;  if (@sum_type == "month" or @sum_type == "day") and @now_date.month == month ; @output_buffer.concat "\n  \t<span class=\"current\">"
; @output_buffer.concat(( "#{month}Êúà" ).to_s); @output_buffer.concat "</span>\n\t"
;  else ; @output_buffer.concat "\n\t  "
; @output_buffer.concat(( link_to( "#{month}Êúà", :controller => "total", :action=>'amount', :date => "#{@now_date.year}-#{month}-#{@now_date.day}", :sum_type => "month" ) ).to_s)
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
;  } ; @output_buffer.concat "\n\n<br />\n<br />\n\n"




; @output_buffer.concat "\n"
;  1.upto(@now_date.end_of_month.day){ |day| ; @output_buffer.concat "\n\t"
;  if @now_date.day == day ; @output_buffer.concat "\n\t\t"
; @output_buffer.concat "\n\t\t"
;  if @sum_type == "day" ; @output_buffer.concat "\n\t\t\t<span class=\"current\">"
; @output_buffer.concat(( "#{month}Êúà" ).to_s); </span>
		<% else ; @output_buffer.concat "\n\t\t\t"
; @output_buffer.concat(( link_to( "#{day}", :controller => "total", :action=>"amount", :date => @now_date, :sum_type => "day" ) ).to_s)
@output_buffer.concat "\t\t";  end ; @output_buffer.concat "\n\t"
;  else ; @output_buffer.concat "\n\t\t"
; @output_buffer.concat "\n\t\t"
; @output_buffer.concat(( link_to( "#{day}", :controller => "total", :action=>"amount", :date => @now_date.change( :day => day ), :sum_type => "day" ) ).to_s)
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
;  } ; @output_buffer.concat "\n</div>\n\n<br />\n<br />\n\n<h1>Total#"





; @output_buffer.concat(( @sum_type ).to_s); @output_buffer.concat "</h1>\n\n"

;  if @sum_type == "year" ; @output_buffer.concat "\n\t<p>"
; @output_buffer.concat(( @now_date.strftime( "%YÂπ¥" ) ).to_s); @output_buffer.concat "</p>\n"
;  elsif @sum_type == "month" ; @output_buffer.concat "\n\t<p>"
; @output_buffer.concat(( @now_date.strftime( "%YÂπ¥%mÊúà" ) ).to_s); @output_buffer.concat "</p>\n"
;  elsif @sum_type == "day" ; @output_buffer.concat "\n\t<p>"
; @output_buffer.concat(( @now_date.strftime( "%YÂπ¥%mÊúà%dÊó•" ) ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n\n<table>\n\n\t<tr>\n\t\t<th>No.</th>\n\t\t<th>\345\223\201\347\233\256</th>\n\t\t<th>\343\202\277\343\202\244\343\203\227</th>\n\t\t<th>\351\207\221\351\241\215</th>\n\t\t<th>\347\231\272\347\224\237\346\227\245</th>\n\t</tr>\n\n"











;  unless @items.blank? ; @output_buffer.concat "\n\t"
; @output_buffer.concat "\n\t"
;  @items.each_with_index{ |item, index| ; @output_buffer.concat "\n\t\t"
; @output_buffer.concat "\n\t\t"
;  type_color = "black" ; @output_buffer.concat "\n\t\t"
;  type_color = "blue" if $type_hash[item.item_type] == "ÂèéÂÖ•" ; @output_buffer.concat "\n\t\t"
;  type_color = "red" if $type_hash[item.item_type] == "ÊîØÂá∫" ; @output_buffer.concat "\n\n\t\t<tr>\n\t\t\t<!-- No. -->\n\t\t\t<td>"



; @output_buffer.concat(( index + 1 ).to_s); @output_buffer.concat "</td>\n\n\t\t\t<!-- \345\223\201\347\233\256 -->\n\t\t\t<td>"


; @output_buffer.concat((h item.name ).to_s); @output_buffer.concat "</td>\n\n\t\t\t<!-- \343\202\277\343\202\244\343\203\227 -->\n\t\t\t<td><span style=\"color: "


; @output_buffer.concat(( type_color ).to_s); @output_buffer.concat ";\">"; @output_buffer.concat((h $type_hash[item.item_type] ).to_s); @output_buffer.concat "</span></td>\n\n\t\t\t<!-- \351\207\221\351\241\215 -->\n\t\t\t<td class=\"text_right\">"


; @output_buffer.concat(( "-" if $type_hash[item.item_type] == "ÊîØÂá∫" ).to_s); @output_buffer.concat(( number_with_delimiter( item.price ) ).to_s); @output_buffer.concat "\345\206\206</td>\n\n\t\t\t<!-- \347\231\272\347\224\237\346\227\245 -->\n\t\t\t<td>"


; @output_buffer.concat((h item.happen_at.strftime( "%Y/%m/%d" ) unless item.happen_at.blank? ).to_s); @output_buffer.concat "</td>\n\n\t\t\t<!-- \343\203\252\343\203\263\343\202\257 -->\n\t\t\t<td>"


; @output_buffer.concat(( link_to 'Èñ≤Ë¶ß', :controller => "items", :action => "show", :id => item.id, :sum_type => @sum_type, :date=> @now_date ).to_s); @output_buffer.concat "</td>\n\t\t\t<td>"
; @output_buffer.concat(( link_to 'Á∑®ÈõÜ', :controller => "items", :action => "edit", :id => item.id, :sum_type => @sum_type, :date=> @now_date ).to_s); @output_buffer.concat "</td>\n\t\t\t<td>"
; @output_buffer.concat(( link_to 'ÂâäÈô§', { :controller => "items", :action => "destroy", :id => item.id, :sum_type => @sum_type, :date=> @now_date }, :confirm => 'Êú¨ÂΩì„Å´ÂâäÈô§„Åó„Å¶„Çà„Çç„Åó„ÅÑ„Åß„Åô„Åã?' ).to_s); @output_buffer.concat "</td>\n\t\t</tr>\n\t"

;  } # each_with_index - END ; @output_buffer.concat "\n"
;  end ; @output_buffer.concat "\n\n</table>\n\n<br />\n\n<table>\n\n\t<tr>\n\t\t<th>\345\217\216\345\205\245\357\274\232</th>\n\t\t<td class=\"text_right\">"









; @output_buffer.concat(( number_with_delimiter( @income ) ).to_s); @output_buffer.concat "\345\206\206</td>\n\t</tr>\n\n\t<tr>\n\t\t<th>\346\224\257\345\207\272\357\274\232</th>\n\t\t<td class=\"text_right\">-"




; @output_buffer.concat(( number_with_delimiter( @expense ) ).to_s); @output_buffer.concat "\345\206\206</td>\n\t</tr>\n\n\t<tr>\n\t\t<th>\345\220\210\350\250\210\357\274\232</th>\n\t\t<td class=\"text_right\">"




; @output_buffer.concat(( number_with_delimiter( @amount ) ).to_s); @output_buffer.concat "\345\206\206</td>\n\t</tr>\n\n</table>\n\n<br />\n\n"






; @output_buffer.concat(( link_to 'Êñ∞Ë¶è‰ΩúÊàê', :controller => "items", :action => "new", :sum_type => @sum_type, :date=> @now_date ).to_s); @output_buffer.concat "<br />\n\n<br />\n"


; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end

Backtrace: /Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:138:in `compile!'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:41: syntax error, unexpected '<', expecting kEND
; @output_buffer.concat(( "#{month}Êúà" ).to_s); </span>
                                                  ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:49: unknown regexp options - dv
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:49: syntax error, unexpected $undefined
...utput_buffer.concat "\n</div>\n\n<br />\n<br />\n\n<h1>Total...
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:49: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
...ffer.concat "\n</div>\n\n<br />\n<br />\n\n<h1>Total#"
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:49: syntax error, unexpected $undefined
...t "\n</div>\n\n<br />\n<br />\n\n<h1>Total#"
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:136: syntax error, unexpected kENSURE, expecting kEND
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:138: syntax error, unexpected $end, expecting kEND) on line #41 of app/views/total/amount.html.erb:
38: 	<% if @now_date.day == day %>
39: 		<%# ‰ªäÊó• %>
40: 		<% if @sum_type == "day" %>
41: 			<span class="current"><%= "#{month}Êúà" -%><%</span>
42: 		<% else %>
43: 			<%= link_to( "#{day}", :controller => "total", :action=>"amount", :date => @now_date, :sum_type => "day" ) -%>
44: 		<% end %>

    app/views/total/amount.html.erb:138:in `compile!'


Rendered rescues/_trace (29.5ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:29:23) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2011-10-14"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at = '2011-10-14') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2011-10-14') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2011-10-14') [0m
Rendering template within layouts/application
Rendering total/amount
ERROR: compiling _run_erb_app47views47total47amount46html46erb RAISED compile error
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:41: syntax error, unexpected '<', expecting kEND
; @output_buffer.concat(( "#{day}" ).to_s); </span>
                                             ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:49: unknown regexp options - dv
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:49: syntax error, unexpected $undefined
...utput_buffer.concat "\n</div>\n\n<br />\n<br />\n\n<h1>Total...
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:49: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
...ffer.concat "\n</div>\n\n<br />\n<br />\n\n<h1>Total#"
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:49: syntax error, unexpected $undefined
...t "\n</div>\n\n<br />\n<br />\n\n<h1>Total#"
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:136: syntax error, unexpected kENSURE, expecting kEND
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:138: syntax error, unexpected $end, expecting kEND
Function body:           def _run_erb_app47views47total47amount46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n<div class=\"pagination\">\n\n"


; @output_buffer.concat(( link_to( "‰ªäÊó•", :controller => "total", :action => 'amount', :date => Date.new( Time.now.year, Time.now.month, Time.now.day ), :sum_type => "day" ) ).to_s)
@output_buffer.concat "\343\200\200"; @output_buffer.concat(( link_to( "‰ªäÊúà", :controller => "total", :action => 'amount', :date => Date.new( Time.now.year, Time.now.month, Time.now.day ), :sum_type => "month" ) ).to_s)
@output_buffer.concat "\343\200\200"; @output_buffer.concat(( link_to( "‰ªäÂπ¥", :controller => "total", :action => 'amount', :date => Date.new( Time.now.year, Time.now.month, Time.now.day ), :sum_type => "year" ) ).to_s); @output_buffer.concat "<br />\n\n<br />\n\n"



; @output_buffer.concat "\n"
; @output_buffer.concat(( link_to( "#{(@now_date.last_year).year}Âπ¥", :controller => "total", :action=>'amount', :date => (@now_date.last_year), :sum_type => "year" ) ).to_s)
@output_buffer.concat "\n"
;  if @sum_type == "year" or @sum_type == "month" or @sum_type == "day" ; @output_buffer.concat "\n<span class=\"current\">"
; @output_buffer.concat(( "#{@now_date.year}Âπ¥" ).to_s); @output_buffer.concat "</span>\n"
;  else ; @output_buffer.concat "\n"
; @output_buffer.concat(( link_to( "#{@now_date.year}Âπ¥", :controller => "total", :action=>'amount', :date => @now_date, :sum_type => "year" ) ).to_s)
 end ; @output_buffer.concat "\n"
; @output_buffer.concat "\n"
; @output_buffer.concat(( link_to( "#{(@now_date.next_year).year}Âπ¥", :controller => "total", :action=>'amount', :date => (@now_date.next_year), :sum_type => "year" ) ).to_s)
@output_buffer.concat "\n<br />\n<br />\n\n"



; @output_buffer.concat "\n"
;  1.upto( 12 ) { |month| ; @output_buffer.concat "\n\t"
;  if (@sum_type == "month" or @sum_type == "day") and @now_date.month == month ; @output_buffer.concat "\n  \t<span class=\"current\">"
; @output_buffer.concat(( "#{month}Êúà" ).to_s); @output_buffer.concat "</span>\n\t"
;  else ; @output_buffer.concat "\n\t  "
; @output_buffer.concat(( link_to( "#{month}Êúà", :controller => "total", :action=>'amount', :date => "#{@now_date.year}-#{month}-#{@now_date.day}", :sum_type => "month" ) ).to_s)
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
;  } ; @output_buffer.concat "\n\n<br />\n<br />\n\n"




; @output_buffer.concat "\n"
;  1.upto(@now_date.end_of_month.day){ |day| ; @output_buffer.concat "\n\t"
;  if @now_date.day == day ; @output_buffer.concat "\n\t\t"
; @output_buffer.concat "\n\t\t"
;  if @sum_type == "day" ; @output_buffer.concat "\n\t\t\t<span class=\"current\">"
; @output_buffer.concat(( "#{day}" ).to_s); </span>
		<% else ; @output_buffer.concat "\n\t\t\t"
; @output_buffer.concat(( link_to( "#{day}", :controller => "total", :action=>"amount", :date => @now_date, :sum_type => "day" ) ).to_s)
@output_buffer.concat "\t\t";  end ; @output_buffer.concat "\n\t"
;  else ; @output_buffer.concat "\n\t\t"
; @output_buffer.concat "\n\t\t"
; @output_buffer.concat(( link_to( "#{day}", :controller => "total", :action=>"amount", :date => @now_date.change( :day => day ), :sum_type => "day" ) ).to_s)
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
;  } ; @output_buffer.concat "\n</div>\n\n<br />\n<br />\n\n<h1>Total#"





; @output_buffer.concat(( @sum_type ).to_s); @output_buffer.concat "</h1>\n\n"

;  if @sum_type == "year" ; @output_buffer.concat "\n\t<p>"
; @output_buffer.concat(( @now_date.strftime( "%YÂπ¥" ) ).to_s); @output_buffer.concat "</p>\n"
;  elsif @sum_type == "month" ; @output_buffer.concat "\n\t<p>"
; @output_buffer.concat(( @now_date.strftime( "%YÂπ¥%mÊúà" ) ).to_s); @output_buffer.concat "</p>\n"
;  elsif @sum_type == "day" ; @output_buffer.concat "\n\t<p>"
; @output_buffer.concat(( @now_date.strftime( "%YÂπ¥%mÊúà%dÊó•" ) ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n\n<table>\n\n\t<tr>\n\t\t<th>No.</th>\n\t\t<th>\345\223\201\347\233\256</th>\n\t\t<th>\343\202\277\343\202\244\343\203\227</th>\n\t\t<th>\351\207\221\351\241\215</th>\n\t\t<th>\347\231\272\347\224\237\346\227\245</th>\n\t</tr>\n\n"











;  unless @items.blank? ; @output_buffer.concat "\n\t"
; @output_buffer.concat "\n\t"
;  @items.each_with_index{ |item, index| ; @output_buffer.concat "\n\t\t"
; @output_buffer.concat "\n\t\t"
;  type_color = "black" ; @output_buffer.concat "\n\t\t"
;  type_color = "blue" if $type_hash[item.item_type] == "ÂèéÂÖ•" ; @output_buffer.concat "\n\t\t"
;  type_color = "red" if $type_hash[item.item_type] == "ÊîØÂá∫" ; @output_buffer.concat "\n\n\t\t<tr>\n\t\t\t<!-- No. -->\n\t\t\t<td>"



; @output_buffer.concat(( index + 1 ).to_s); @output_buffer.concat "</td>\n\n\t\t\t<!-- \345\223\201\347\233\256 -->\n\t\t\t<td>"


; @output_buffer.concat((h item.name ).to_s); @output_buffer.concat "</td>\n\n\t\t\t<!-- \343\202\277\343\202\244\343\203\227 -->\n\t\t\t<td><span style=\"color: "


; @output_buffer.concat(( type_color ).to_s); @output_buffer.concat ";\">"; @output_buffer.concat((h $type_hash[item.item_type] ).to_s); @output_buffer.concat "</span></td>\n\n\t\t\t<!-- \351\207\221\351\241\215 -->\n\t\t\t<td class=\"text_right\">"


; @output_buffer.concat(( "-" if $type_hash[item.item_type] == "ÊîØÂá∫" ).to_s); @output_buffer.concat(( number_with_delimiter( item.price ) ).to_s); @output_buffer.concat "\345\206\206</td>\n\n\t\t\t<!-- \347\231\272\347\224\237\346\227\245 -->\n\t\t\t<td>"


; @output_buffer.concat((h item.happen_at.strftime( "%Y/%m/%d" ) unless item.happen_at.blank? ).to_s); @output_buffer.concat "</td>\n\n\t\t\t<!-- \343\203\252\343\203\263\343\202\257 -->\n\t\t\t<td>"


; @output_buffer.concat(( link_to 'Èñ≤Ë¶ß', :controller => "items", :action => "show", :id => item.id, :sum_type => @sum_type, :date=> @now_date ).to_s); @output_buffer.concat "</td>\n\t\t\t<td>"
; @output_buffer.concat(( link_to 'Á∑®ÈõÜ', :controller => "items", :action => "edit", :id => item.id, :sum_type => @sum_type, :date=> @now_date ).to_s); @output_buffer.concat "</td>\n\t\t\t<td>"
; @output_buffer.concat(( link_to 'ÂâäÈô§', { :controller => "items", :action => "destroy", :id => item.id, :sum_type => @sum_type, :date=> @now_date }, :confirm => 'Êú¨ÂΩì„Å´ÂâäÈô§„Åó„Å¶„Çà„Çç„Åó„ÅÑ„Åß„Åô„Åã?' ).to_s); @output_buffer.concat "</td>\n\t\t</tr>\n\t"

;  } # each_with_index - END ; @output_buffer.concat "\n"
;  end ; @output_buffer.concat "\n\n</table>\n\n<br />\n\n<table>\n\n\t<tr>\n\t\t<th>\345\217\216\345\205\245\357\274\232</th>\n\t\t<td class=\"text_right\">"









; @output_buffer.concat(( number_with_delimiter( @income ) ).to_s); @output_buffer.concat "\345\206\206</td>\n\t</tr>\n\n\t<tr>\n\t\t<th>\346\224\257\345\207\272\357\274\232</th>\n\t\t<td class=\"text_right\">-"




; @output_buffer.concat(( number_with_delimiter( @expense ) ).to_s); @output_buffer.concat "\345\206\206</td>\n\t</tr>\n\n\t<tr>\n\t\t<th>\345\220\210\350\250\210\357\274\232</th>\n\t\t<td class=\"text_right\">"




; @output_buffer.concat(( number_with_delimiter( @amount ) ).to_s); @output_buffer.concat "\345\206\206</td>\n\t</tr>\n\n</table>\n\n<br />\n\n"






; @output_buffer.concat(( link_to 'Êñ∞Ë¶è‰ΩúÊàê', :controller => "items", :action => "new", :sum_type => @sum_type, :date=> @now_date ).to_s); @output_buffer.concat "<br />\n\n<br />\n"


; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end

Backtrace: /Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:138:in `compile!'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:41: syntax error, unexpected '<', expecting kEND
; @output_buffer.concat(( "#{day}" ).to_s); </span>
                                             ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:49: unknown regexp options - dv
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:49: syntax error, unexpected $undefined
...utput_buffer.concat "\n</div>\n\n<br />\n<br />\n\n<h1>Total...
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:49: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
...ffer.concat "\n</div>\n\n<br />\n<br />\n\n<h1>Total#"
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:49: syntax error, unexpected $undefined
...t "\n</div>\n\n<br />\n<br />\n\n<h1>Total#"
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:136: syntax error, unexpected kENSURE, expecting kEND
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:138: syntax error, unexpected $end, expecting kEND) on line #41 of app/views/total/amount.html.erb:
38: 	<% if @now_date.day == day %>
39: 		<%# ‰ªäÊó• %>
40: 		<% if @sum_type == "day" %>
41: 			<span class="current"><%= "#{day}" -%><%</span>
42: 		<% else %>
43: 			<%= link_to( "#{day}", :controller => "total", :action=>"amount", :date => @now_date, :sum_type => "day" ) -%>
44: 		<% end %>

    app/views/total/amount.html.erb:138:in `compile!'


Rendered rescues/_trace (67.1ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:29:37) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2011-10-14"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at = '2011-10-14') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2011-10-14') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2011-10-14') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 29ms (View: 21, DB: 0) | 200 OK [http://localhost/?date=2011-10-14&sum_type=day]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:29:47) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2011-10-21"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at = '2011-10-21') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2011-10-21') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2011-10-21') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 24ms (View: 17, DB: 0) | 200 OK [http://localhost/?date=2011-10-21&sum_type=day]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:29:49) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-8-21"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-08-01' AND happen_at <= '2011-08-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-08-01' AND happen_at <= '2011-08-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-08-01' AND happen_at <= '2011-08-31') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 25ms (View: 17, DB: 0) | 200 OK [http://localhost/?date=2011-8-21&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:29:50) [GET]
  Parameters: {"sum_type"=>"year", "date"=>"2012-08-21"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2012-01-01' AND happen_at < '2013-01-01') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2012-01-01' AND happen_at < '2013-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2012-01-01' AND happen_at < '2013-01-01') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 25ms (View: 17, DB: 0) | 200 OK [http://localhost/?date=2012-08-21&sum_type=year]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:29:53) [GET]
  Parameters: {"sum_type"=>"year", "date"=>"2013-08-21"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2013-01-01' AND happen_at < '2014-01-01') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2013-01-01' AND happen_at < '2014-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2013-01-01' AND happen_at < '2014-01-01') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 25ms (View: 17, DB: 0) | 200 OK [http://localhost/?date=2013-08-21&sum_type=year]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:29:55) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2013-08-08"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at = '2013-08-08') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2013-08-08') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2013-08-08') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 62ms (View: 55, DB: 0) | 200 OK [http://localhost/?date=2013-08-08&sum_type=day]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:29:57) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2013-08-10"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at = '2013-08-10') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2013-08-10') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2013-08-10') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 24ms (View: 17, DB: 0) | 200 OK [http://localhost/?date=2013-08-10&sum_type=day]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:29:59) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 25ms (View: 16, DB: 0) | 200 OK [http://localhost/?date=2011-04-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:30:35) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 39ms (View: 32, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:31:03) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 39ms (View: 32, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:31:12) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 25ms (View: 17, DB: 0) | 200 OK [http://localhost/?date=2011-04-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:31:14) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-5-10"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-05-01' AND happen_at <= '2011-05-31') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-05-01' AND happen_at <= '2011-05-31') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-05-01' AND happen_at <= '2011-05-31') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 25ms (View: 17, DB: 0) | 200 OK [http://localhost/?date=2011-5-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:31:16) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-2-10"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-02-01' AND happen_at <= '2011-02-28') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-02-01' AND happen_at <= '2011-02-28') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-02-01' AND happen_at <= '2011-02-28') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 65ms (View: 19, DB: 1) | 200 OK [http://localhost/?date=2011-2-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:31:30) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2011-02-16"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at = '2011-02-16') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2011-02-16') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2011-02-16') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 24ms (View: 16, DB: 0) | 200 OK [http://localhost/?date=2011-02-16&sum_type=day]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:31:54) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2011-02-16"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at = '2011-02-16') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2011-02-16') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2011-02-16') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 28ms (View: 20, DB: 0) | 200 OK [http://localhost/?date=2011-02-16&sum_type=day]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:33:04) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2011-02-16"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at = '2011-02-16') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2011-02-16') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2011-02-16') [0m
Rendering template within layouts/application
Rendering total/amount
ERROR: compiling _run_erb_app47views47total47amount46html46erb RAISED compile error
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:134: syntax error, unexpected tIDENTIFIER, expecting ')'
...nu.new), :controller => "items", :action => "new", :sum_type...
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:134: syntax error, unexpected tIDENTIFIER, expecting ')'
...er => "items", :action => "new", :sum_type => @sum_type, :da...
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:134: syntax error, unexpected $undefined
..._buffer.concat "</span><br />\n\n<br />\n"
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:134: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
...concat "</span><br />\n\n<br />\n"
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:134: unterminated string meets end of file
Function body:           def _run_erb_app47views47total47amount46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n<div class=\"pagination\">\n\n"


; @output_buffer.concat(( link_to( "‰ªäÊó•", :controller => "total", :action => 'amount', :date => Date.new( Time.now.year, Time.now.month, Time.now.day ), :sum_type => "day" ) ).to_s)
@output_buffer.concat "\343\200\200"; @output_buffer.concat(( link_to( "‰ªäÊúà", :controller => "total", :action => 'amount', :date => Date.new( Time.now.year, Time.now.month, Time.now.day ), :sum_type => "month" ) ).to_s)
@output_buffer.concat "\343\200\200"; @output_buffer.concat(( link_to( "‰ªäÂπ¥", :controller => "total", :action => 'amount', :date => Date.new( Time.now.year, Time.now.month, Time.now.day ), :sum_type => "year" ) ).to_s); @output_buffer.concat "<br />\n\n<br />\n\n"



; @output_buffer.concat "\n"
; @output_buffer.concat(( link_to( "#{(@now_date.last_year).year}Âπ¥", :controller => "total", :action=>'amount', :date => (@now_date.last_year), :sum_type => "year" ) ).to_s)
@output_buffer.concat "\n"
;  if @sum_type == "year" or @sum_type == "month" or @sum_type == "day" ; @output_buffer.concat "\n<span class=\"current\">"
; @output_buffer.concat(( "#{@now_date.year}Âπ¥" ).to_s); @output_buffer.concat "</span>\n"
;  else ; @output_buffer.concat "\n"
; @output_buffer.concat(( link_to( "#{@now_date.year}Âπ¥", :controller => "total", :action=>'amount', :date => @now_date, :sum_type => "year" ) ).to_s)
 end ; @output_buffer.concat "\n"
; @output_buffer.concat "\n"
; @output_buffer.concat(( link_to( "#{(@now_date.next_year).year}Âπ¥", :controller => "total", :action=>'amount', :date => (@now_date.next_year), :sum_type => "year" ) ).to_s)
@output_buffer.concat "\n<br />\n<br />\n\n"



; @output_buffer.concat "\n"
;  1.upto( 12 ) { |month| ; @output_buffer.concat "\n\t"
;  if (@sum_type == "month" or @sum_type == "day") and @now_date.month == month ; @output_buffer.concat "\n  \t<span class=\"current\">"
; @output_buffer.concat(( "#{month}Êúà" ).to_s); @output_buffer.concat "</span>\n\t"
;  else ; @output_buffer.concat "\n\t  "
; @output_buffer.concat(( link_to( "#{month}Êúà", :controller => "total", :action=>'amount', :date => "#{@now_date.year}-#{month}-#{@now_date.day}", :sum_type => "month" ) ).to_s)
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
;  } ; @output_buffer.concat "\n\n<br />\n<br />\n\n"




; @output_buffer.concat "\n"
;  1.upto(@now_date.end_of_month.day){ |day| ; @output_buffer.concat "\n\t"
;  if @now_date.day == day ; @output_buffer.concat "\n\t\t"
; @output_buffer.concat "\n\t\t"
;  if @sum_type == "day" ; @output_buffer.concat "\n\t\t\t<span class=\"current\">"
; @output_buffer.concat(( "#{day}" ).to_s); @output_buffer.concat "</span>\n\t\t"
;  else ; @output_buffer.concat "\n\t\t\t"
; @output_buffer.concat(( link_to( "#{day}", :controller => "total", :action=>"amount", :date => @now_date, :sum_type => "day" ) ).to_s)
@output_buffer.concat "\t\t";  end ; @output_buffer.concat "\n\t"
;  else ; @output_buffer.concat "\n\t\t"
; @output_buffer.concat "\n\t\t"
; @output_buffer.concat(( link_to( "#{day}", :controller => "total", :action=>"amount", :date => @now_date.change( :day => day ), :sum_type => "day" ) ).to_s)
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
;  } ; @output_buffer.concat "\n</div>\n\n<br />\n<br />\n\n"





;  if false ; @output_buffer.concat "\n<h1>Total#"
; @output_buffer.concat(( @sum_type ).to_s); @output_buffer.concat "</h1>\n"
;  end ; @output_buffer.concat "\n\n"

;  if @sum_type == "year" ; @output_buffer.concat "\n\t<p>"
; @output_buffer.concat(( @now_date.strftime( "%YÂπ¥" ) ).to_s); @output_buffer.concat "</p>\n"
;  elsif @sum_type == "month" ; @output_buffer.concat "\n\t<p>"
; @output_buffer.concat(( @now_date.strftime( "%YÂπ¥%mÊúà" ) ).to_s); @output_buffer.concat "</p>\n"
;  elsif @sum_type == "day" ; @output_buffer.concat "\n\t<p>"
; @output_buffer.concat(( @now_date.strftime( "%YÂπ¥%mÊúà%dÊó•" ) ).to_s); @output_buffer.concat "</p>\n"
;  end ; @output_buffer.concat "\n\n<table>\n\n\t<tr>\n\t\t<th>No.</th>\n\t\t<th>\345\223\201\347\233\256</th>\n\t\t<th>\343\202\277\343\202\244\343\203\227</th>\n\t\t<th>\351\207\221\351\241\215</th>\n\t\t<th>\347\231\272\347\224\237\346\227\245</th>\n\t</tr>\n\n"











;  unless @items.blank? ; @output_buffer.concat "\n\t"
; @output_buffer.concat "\n\t"
;  @items.each_with_index{ |item, index| ; @output_buffer.concat "\n\t\t"
; @output_buffer.concat "\n\t\t"
;  type_color = "black" ; @output_buffer.concat "\n\t\t"
;  type_color = "blue" if $type_hash[item.item_type] == "ÂèéÂÖ•" ; @output_buffer.concat "\n\t\t"
;  type_color = "red" if $type_hash[item.item_type] == "ÊîØÂá∫" ; @output_buffer.concat "\n\n\t\t<tr>\n\t\t\t<!-- No. -->\n\t\t\t<td>"



; @output_buffer.concat(( index + 1 ).to_s); @output_buffer.concat "</td>\n\n\t\t\t<!-- \345\223\201\347\233\256 -->\n\t\t\t<td>"


; @output_buffer.concat((h item.name ).to_s); @output_buffer.concat "</td>\n\n\t\t\t<!-- \343\202\277\343\202\244\343\203\227 -->\n\t\t\t<td><span style=\"color: "


; @output_buffer.concat(( type_color ).to_s); @output_buffer.concat ";\">"; @output_buffer.concat((h $type_hash[item.item_type] ).to_s); @output_buffer.concat "</span></td>\n\n\t\t\t<!-- \351\207\221\351\241\215 -->\n\t\t\t<td class=\"text_right\">"


; @output_buffer.concat(( "-" if $type_hash[item.item_type] == "ÊîØÂá∫" ).to_s); @output_buffer.concat(( number_with_delimiter( item.price ) ).to_s); @output_buffer.concat "\345\206\206</td>\n\n\t\t\t<!-- \347\231\272\347\224\237\346\227\245 -->\n\t\t\t<td>"


; @output_buffer.concat((h item.happen_at.strftime( "%Y/%m/%d" ) unless item.happen_at.blank? ).to_s); @output_buffer.concat "</td>\n\n\t\t\t<!-- \343\203\252\343\203\263\343\202\257 -->\n\t\t\t<td>"


; @output_buffer.concat(( link_to 'Èñ≤Ë¶ß', :controller => "items", :action => "show", :id => item.id, :sum_type => @sum_type, :date=> @now_date ).to_s); @output_buffer.concat "</td>\n\t\t\t<td>"
; @output_buffer.concat(( link_to 'Á∑®ÈõÜ', :controller => "items", :action => "edit", :id => item.id, :sum_type => @sum_type, :date=> @now_date ).to_s); @output_buffer.concat "</td>\n\t\t\t<td>"
; @output_buffer.concat(( link_to 'ÂâäÈô§', { :controller => "items", :action => "destroy", :id => item.id, :sum_type => @sum_type, :date=> @now_date }, :confirm => 'Êú¨ÂΩì„Å´ÂâäÈô§„Åó„Å¶„Çà„Çç„Åó„ÅÑ„Åß„Åô„Åã?' ).to_s); @output_buffer.concat "</td>\n\t\t</tr>\n\t"

;  } # each_with_index - END ; @output_buffer.concat "\n"
;  end ; @output_buffer.concat "\n\n</table>\n\n<br />\n\n<table>\n\n\t<tr>\n\t\t<th>\345\217\216\345\205\245\357\274\232</th>\n\t\t<td class=\"text_right\">"









; @output_buffer.concat(( number_with_delimiter( @income ) ).to_s); @output_buffer.concat "\345\206\206</td>\n\t</tr>\n\n\t<tr>\n\t\t<th>\346\224\257\345\207\272\357\274\232</th>\n\t\t<td class=\"text_right\">-"




; @output_buffer.concat(( number_with_delimiter( @expense ) ).to_s); @output_buffer.concat "\345\206\206</td>\n\t</tr>\n\n\t<tr>\n\t\t<th>\345\220\210\350\250\210\357\274\232</th>\n\t\t<td class=\"text_right\">"




; @output_buffer.concat(( number_with_delimiter( @amount ) ).to_s); @output_buffer.concat "\345\206\206</td>\n\t</tr>\n\n</table>\n\n<br />\n\n<span class=\"menu\">"






; @output_buffer.concat(( link_to t("menu.new), :controller => "items", :action => "new", :sum_type => @sum_type, :date=> @now_date ).to_s); @output_buffer.concat "</span><br />\n\n<br />\n"


; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end

Backtrace: /Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:134:in `compile!'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:134: syntax error, unexpected tIDENTIFIER, expecting ')'
...nu.new), :controller => "items", :action => "new", :sum_type...
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:134: syntax error, unexpected tIDENTIFIER, expecting ')'
...er => "items", :action => "new", :sum_type => @sum_type, :da...
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:134: syntax error, unexpected $undefined
..._buffer.concat "</span><br />\n\n<br />\n"
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:134: syntax error, unexpected tREGEXP_BEG, expecting kDO or '{' or '('
...concat "</span><br />\n\n<br />\n"
                              ^
/Users/raisondetre0115/Mine/workspace/libra/app/views/total/amount.html.erb:134: unterminated string meets end of file) on line #134 of app/views/total/amount.html.erb:
131: 
132: <br />
133: 
134: <span class="menu"><%= link_to t("menu.new), :controller => "items", :action => "new", :sum_type => @sum_type, :date=> @now_date %></span><br />
135: 
136: <br />

    app/views/total/amount.html.erb:134:in `compile!'


Rendered rescues/_trace (30.9ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:33:22) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2011-02-16"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at = '2011-02-16') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2011-02-16') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2011-02-16') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 28ms (View: 20, DB: 0) | 200 OK [http://localhost/?date=2011-02-16&sum_type=day]


Processing ItemsController#new (for 127.0.0.1 at 2011-04-10 16:33:25) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2011-02-16"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering items/new
Completed in 19ms (View: 13, DB: 0) | 200 OK [http://localhost/items/new?date=2011-02-16&sum_type=day]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:33:28) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2011-02-16"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at = '2011-02-16') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2011-02-16') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2011-02-16') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 24ms (View: 16, DB: 0) | 200 OK [http://localhost/?date=2011-02-16&sum_type=day]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:33:36) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-3-16"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-03-01' AND happen_at <= '2011-03-31') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-03-01' AND happen_at <= '2011-03-31') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-03-01' AND happen_at <= '2011-03-31') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 25ms (View: 17, DB: 0) | 200 OK [http://localhost/?date=2011-3-16&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:34:20) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 52ms (View: 28, DB: 1) | 200 OK [http://localhost/?date=2011-04-10&sum_type=month]


Processing ItemsController#new (for 127.0.0.1 at 2011-04-10 16:34:23) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering items/new
Completed in 19ms (View: 12, DB: 0) | 200 OK [http://localhost/items/new?date=2011-04-10&sum_type=month]


Processing ItemsController#new (for 127.0.0.1 at 2011-04-10 16:44:57) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering items/new
Completed in 19ms (View: 13, DB: 0) | 200 OK [http://localhost/items/new?date=2011-04-10&sum_type=month]


Processing ItemsController#new (for 127.0.0.1 at 2011-04-10 16:45:14) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering items/new
Completed in 20ms (View: 13, DB: 0) | 200 OK [http://localhost/items/new?date=2011-04-10&sum_type=month]


Processing ItemsController#new (for 127.0.0.1 at 2011-04-10 16:45:37) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering items/new
Completed in 19ms (View: 13, DB: 0) | 200 OK [http://localhost/items/new?date=2011-04-10&sum_type=month]


Processing ItemsController#new (for 127.0.0.1 at 2011-04-10 16:46:05) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering items/new
Completed in 19ms (View: 12, DB: 0) | 200 OK [http://localhost/items/new?date=2011-04-10&sum_type=month]


Processing ItemsController#new (for 127.0.0.1 at 2011-04-10 16:46:21) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering items/new
Completed in 21ms (View: 14, DB: 0) | 200 OK [http://localhost/items/new?date=2011-04-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:46:24) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 25ms (View: 17, DB: 0) | 200 OK [http://localhost/?date=2011-04-10&sum_type=month]


Processing ItemsController#new (for 127.0.0.1 at 2011-04-10 16:46:27) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering items/new
Completed in 16ms (View: 10, DB: 0) | 200 OK [http://localhost/items/new?date=2011-04-10&sum_type=month]


Processing ItemsController#create (for 127.0.0.1 at 2011-04-10 16:46:36) [POST]
  Parameters: {"commit"=>"‰ΩúÊàê", "sum_type"=>"month", "authenticity_token"=>"eo6bwkejlLsq9E47bYiwZ/RR/9wgLMiLuBYGBtl101s=", "date"=>"2011-04-10", "item"=>{"price"=>"100", "name"=>"„ÉÜ„Çπ„Éà", "happen_at(1i)"=>"2011", "happen_at(2i)"=>"4", "happen_at(3i)"=>"10", "item_type"=>"expense"}}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Create (0.3ms)[0m   [0;1mINSERT INTO "items" ("name", "price", "created_at", "updated_at", "cycle", "cycle_mode", "happen_at", "item_type") VALUES('„ÉÜ„Çπ„Éà', 100, '2011-04-10 16:46:36', '2011-04-10 16:46:36', NULL, NULL, '2011-04-10', 'expense')[0m
Redirected to http://localhost:3000/?date=2011-04-10&sum_type=month
Completed in 11ms (DB: 0) | 302 Found [http://localhost/items/create?date=2011-04-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:46:36) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 28ms (View: 20, DB: 0) | 200 OK [http://localhost/?date=2011-04-10&sum_type=month]


Processing ItemsController#new (for 127.0.0.1 at 2011-04-10 16:46:55) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering items/new
Completed in 17ms (View: 10, DB: 0) | 200 OK [http://localhost/items/new?date=2011-04-10&sum_type=month]


Processing ItemsController#create (for 127.0.0.1 at 2011-04-10 16:47:07) [POST]
  Parameters: {"commit"=>"‰ΩúÊàê", "sum_type"=>"month", "authenticity_token"=>"eo6bwkejlLsq9E47bYiwZ/RR/9wgLMiLuBYGBtl101s=", "date"=>"2011-04-10", "item"=>{"price"=>"1000", "name"=>"„ÉÜ„Çπ„Éà1", "happen_at(1i)"=>"2011", "happen_at(2i)"=>"4", "happen_at(3i)"=>"11", "item_type"=>"income"}}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Create (0.3ms)[0m   [0mINSERT INTO "items" ("name", "price", "created_at", "updated_at", "cycle", "cycle_mode", "happen_at", "item_type") VALUES('„ÉÜ„Çπ„Éà1', 1000, '2011-04-10 16:47:07', '2011-04-10 16:47:07', NULL, NULL, '2011-04-11', 'income')[0m
Redirected to http://localhost:3000/?date=2011-04-10&sum_type=month
Completed in 11ms (DB: 0) | 302 Found [http://localhost/items/create?date=2011-04-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:47:07) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 28ms (View: 20, DB: 1) | 200 OK [http://localhost/?date=2011-04-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:48:16) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 67ms (View: 59, DB: 1) | 200 OK [http://localhost/?date=2011-04-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:48:45) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 32ms (View: 24, DB: 1) | 200 OK [http://localhost/?date=2011-04-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:48:56) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 35ms (View: 26, DB: 1) | 200 OK [http://localhost/?date=2011-04-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:49:22) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 32ms (View: 24, DB: 1) | 200 OK [http://localhost/?date=2011-04-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:50:15) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 34ms (View: 25, DB: 1) | 200 OK [http://localhost/?date=2011-04-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 16:50:49) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 67ms (View: 24, DB: 1) | 200 OK [http://localhost/?date=2011-04-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-04-10 16:50:53) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"22", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 22) [0m
Rendering template within layouts/application
Rendering items/show
Completed in 17ms (View: 9, DB: 0) | 200 OK [http://localhost/items/show/22?date=2011-04-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-04-10 16:54:48) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"22", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 22) [0m
Rendering template within layouts/application
Rendering items/show
Completed in 18ms (View: 10, DB: 0) | 200 OK [http://localhost/items/show/22?date=2011-04-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-04-10 16:57:30) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"22", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 22) [0m
Rendering template within layouts/application
Rendering items/show

ActionView::TemplateError (undefined local variable or method `item_type' for #<ActionView::Base:0x1032f0a40>) on line #51 of app/views/items/show.html.erb:
48:     
49:     <tr>
50:       <th><%= t("item.type") %>:</th>
51:       <td><%=h item_type %></td>
52:     </tr>
53:     
54:     <tr>

    app/views/items/show.html.erb:51


Rendered rescues/_trace (32.4ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing ItemsController#show (for 127.0.0.1 at 2011-04-10 16:57:44) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"22", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 22) [0m
Rendering template within layouts/application
Rendering items/show
Completed in 54ms (View: 46, DB: 0) | 200 OK [http://localhost/items/show/22?date=2011-04-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-04-10 16:58:26) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"22", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 22) [0m
Rendering template within layouts/application
Rendering items/show
Completed in 19ms (View: 10, DB: 0) | 200 OK [http://localhost/items/show/22?date=2011-04-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-04-10 16:58:41) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"22", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 22) [0m
Rendering template within layouts/application
Rendering items/show
Completed in 18ms (View: 10, DB: 0) | 200 OK [http://localhost/items/show/22?date=2011-04-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-04-10 17:00:42) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"22", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 22) [0m
Rendering template within layouts/application
Rendering items/show
Completed in 50ms (View: 43, DB: 0) | 200 OK [http://localhost/items/show/22?date=2011-04-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-04-10 17:01:03) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"22", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 22) [0m
Rendering template within layouts/application
Rendering items/show
Completed in 18ms (View: 10, DB: 0) | 200 OK [http://localhost/items/show/22?date=2011-04-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-04-10 17:01:22) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"22", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 22) [0m
Rendering template within layouts/application
Rendering items/show
Completed in 18ms (View: 10, DB: 0) | 200 OK [http://localhost/items/show/22?date=2011-04-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 17:01:25) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 62ms (View: 54, DB: 1) | 200 OK [http://localhost/?date=2011-04-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-04-10 17:01:28) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"22", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 22) [0m
Rendering template within layouts/application
Rendering items/show
Completed in 15ms (View: 7, DB: 0) | 200 OK [http://localhost/items/show/22?date=2011-04-10&sum_type=month]


Processing ItemsController#edit (for 127.0.0.1 at 2011-04-10 17:01:30) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"22", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 22) [0m
Rendering template within layouts/application
Rendering items/edit
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/items/edit/22?date=2011-04-10&sum_type=month]


Processing ItemsController#edit (for 127.0.0.1 at 2011-04-10 17:16:47) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"22", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 22) [0m
Rendering template within layouts/application
Rendering items/edit
Completed in 18ms (View: 10, DB: 0) | 200 OK [http://localhost/items/edit/22?date=2011-04-10&sum_type=month]


Processing ItemsController#edit (for 127.0.0.1 at 2011-04-10 20:57:35) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"22", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 22) [0m
Rendering template within layouts/application
Rendering items/edit
Completed in 57ms (View: 12, DB: 0) | 200 OK [http://localhost/items/edit/22?date=2011-04-10&sum_type=month]


Processing ItemsController#edit (for 127.0.0.1 at 2011-04-10 20:57:48) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"22", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 22) [0m
Rendering template within layouts/application
Rendering items/edit
Completed in 21ms (View: 13, DB: 0) | 200 OK [http://localhost/items/edit/22?date=2011-04-10&sum_type=month]


Processing ItemsController#edit (for 127.0.0.1 at 2011-04-10 20:59:27) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"22", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 22) [0m
Rendering template within layouts/application
Rendering items/edit
Completed in 21ms (View: 13, DB: 0) | 200 OK [http://localhost/items/edit/22?date=2011-04-10&sum_type=month]


Processing ItemsController#edit (for 127.0.0.1 at 2011-04-10 21:00:15) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"22", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 22) [0m
Rendering template within layouts/application
Rendering items/edit
Completed in 17ms (View: 10, DB: 0) | 200 OK [http://localhost/items/edit/22?date=2011-04-10&sum_type=month]


Processing ItemsController#edit (for 127.0.0.1 at 2011-04-10 21:00:27) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"22", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 22) [0m
Rendering template within layouts/application
Rendering items/edit
Completed in 21ms (View: 13, DB: 0) | 200 OK [http://localhost/items/edit/22?date=2011-04-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:00:32) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 29ms (View: 20, DB: 1) | 200 OK [http://localhost/?date=2011-04-10&sum_type=month]


Processing ItemsController#edit (for 127.0.0.1 at 2011-04-10 21:00:34) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"23", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 23) [0m
Rendering template within layouts/application
Rendering items/edit
Completed in 18ms (View: 10, DB: 0) | 200 OK [http://localhost/items/edit/23?date=2011-04-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-04-10 21:00:38) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"23", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 23) [0m
Rendering template within layouts/application
Rendering items/show
Completed in 17ms (View: 9, DB: 0) | 200 OK [http://localhost/items/show/23?date=2011-04-10&sum_type=month]


Processing ItemsController#edit (for 127.0.0.1 at 2011-04-10 21:00:40) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"23", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 23) [0m
Rendering template within layouts/application
Rendering items/edit
Completed in 17ms (View: 10, DB: 0) | 200 OK [http://localhost/items/edit/23?date=2011-04-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-04-10 21:00:47) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"23", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 23) [0m
Rendering template within layouts/application
Rendering items/show
Completed in 14ms (View: 7, DB: 0) | 200 OK [http://localhost/items/show/23?date=2011-04-10&sum_type=month]


Processing ItemsController#edit (for 127.0.0.1 at 2011-04-10 21:00:48) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"23", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 23) [0m
Rendering template within layouts/application
Rendering items/edit
Completed in 60ms (View: 50, DB: 0) | 200 OK [http://localhost/items/edit/23?date=2011-04-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-04-10 21:00:50) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"23", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 23) [0m
Rendering template within layouts/application
Rendering items/show
Completed in 16ms (View: 8, DB: 0) | 200 OK [http://localhost/items/show/23?date=2011-04-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:00:51) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 28ms (View: 20, DB: 1) | 200 OK [http://localhost/?date=2011-04-10&sum_type=month]


Processing ItemsController#edit (for 127.0.0.1 at 2011-04-10 21:00:54) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"23", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 23) [0m
Rendering template within layouts/application
Rendering items/edit
Completed in 18ms (View: 10, DB: 0) | 200 OK [http://localhost/items/edit/23?date=2011-04-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-04-10 21:01:03) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"23", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 23) [0m
Rendering template within layouts/application
Rendering items/show
Completed in 50ms (View: 42, DB: 0) | 200 OK [http://localhost/items/show/23?date=2011-04-10&sum_type=month]


Processing ItemsController#edit (for 127.0.0.1 at 2011-04-10 21:01:05) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"23", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 23) [0m
Rendering template within layouts/application
Rendering items/edit
Completed in 17ms (View: 9, DB: 0) | 200 OK [http://localhost/items/edit/23?date=2011-04-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-04-10 21:01:43) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"23", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 23) [0m
Rendering template within layouts/application
Rendering items/show
Completed in 14ms (View: 7, DB: 0) | 200 OK [http://localhost/items/show/23?date=2011-04-10&sum_type=month]


Processing ItemsController#show (for 127.0.0.1 at 2011-04-10 21:02:05) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"23", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 23) [0m
Rendering template within layouts/application
Rendering items/show
Completed in 15ms (View: 7, DB: 0) | 200 OK [http://localhost/items/show/23?date=2011-04-10&sum_type=month]


Processing ItemsController#edit (for 127.0.0.1 at 2011-04-10 21:02:07) [GET]
  Parameters: {"sum_type"=>"month", "id"=>"23", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 23) [0m
Rendering template within layouts/application
Rendering items/edit
Completed in 60ms (View: 51, DB: 0) | 200 OK [http://localhost/items/edit/23?date=2011-04-10&sum_type=month]


Processing ItemsController#update (for 127.0.0.1 at 2011-04-10 21:02:08) [PUT]
  Parameters: {"commit"=>"‰øùÂ≠ò", "sum_type"=>"month", "authenticity_token"=>"eo6bwkejlLsq9E47bYiwZ/RR/9wgLMiLuBYGBtl101s=", "id"=>"23", "date"=>"2011-04-10", "item"=>{"price"=>"1000", "name"=>"„ÉÜ„Çπ„Éà1", "happen_at(1i)"=>"2011", "happen_at(2i)"=>"4", "happen_at(3i)"=>"11", "item_type"=>"income"}}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 23) [0m
Redirected to http://localhost:3000/?date=2011-04-10&sum_type=month
Completed in 10ms (DB: 0) | 302 Found [http://localhost/items/update/23?date=2011-04-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:02:08) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 29ms (View: 21, DB: 0) | 200 OK [http://localhost/?date=2011-04-10&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:03:03) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2011-04-12"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at = '2011-04-12') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2011-04-12') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2011-04-12') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 24ms (View: 16, DB: 0) | 200 OK [http://localhost/?date=2011-04-12&sum_type=day]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:04:40) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2011-04-12"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at = '2011-04-12') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2011-04-12') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2011-04-12') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 66ms (View: 59, DB: 0) | 200 OK [http://localhost/?date=2011-04-12&sum_type=day]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:04:56) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2011-04-12"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at = '2011-04-12') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2011-04-12') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2011-04-12') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 30ms (View: 22, DB: 0) | 200 OK [http://localhost/?date=2011-04-12&sum_type=day]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:05:08) [GET]
  Parameters: {"sum_type"=>"month", "date"=>"2011-7-12"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-07-01' AND happen_at <= '2011-07-31') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-07-01' AND happen_at <= '2011-07-31') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-07-01' AND happen_at <= '2011-07-31') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 26ms (View: 17, DB: 0) | 200 OK [http://localhost/?date=2011-7-12&sum_type=month]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:05:10) [GET]
  Parameters: {"sum_type"=>"day", "date"=>"2011-07-11"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at = '2011-07-11') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at = '2011-07-11') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at = '2011-07-11') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 62ms (View: 18, DB: 0) | 200 OK [http://localhost/?date=2011-07-11&sum_type=day]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:05:23) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 28ms (View: 20, DB: 1) | 200 OK [http://localhost/]


Processing SummaryController#list (for 127.0.0.1 at 2011-04-10 21:05:40) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at ASC LIMIT 1[0m
  [4;36;1mItem Load (0.1ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
Rendering template within layouts/application
Rendering summary/list
Completed in 20ms (View: 8, DB: 1) | 200 OK [http://localhost/summary]


Processing SummaryController#list (for 127.0.0.1 at 2011-04-10 21:06:14) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at ASC LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
Rendering template within layouts/application
Rendering summary/list
Completed in 21ms (View: 8, DB: 1) | 200 OK [http://localhost/summary]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:09:11) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.4ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 36ms (View: 29, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:10:23) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.5ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 43ms (View: 35, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing ItemsController#edit (for 127.0.0.1 at 2011-04-10 21:10:28) [GET]
  Parameters: {"sum_type"=>"all", "id"=>"17", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 17) [0m
Rendering template within layouts/application
Rendering items/edit
Completed in 57ms (View: 10, DB: 0) | 200 OK [http://localhost/items/edit/17?date=2011-04-10&sum_type=all]


Processing ItemsController#update (for 127.0.0.1 at 2011-04-10 21:10:34) [PUT]
  Parameters: {"commit"=>"‰øùÂ≠ò", "sum_type"=>"all", "authenticity_token"=>"eo6bwkejlLsq9E47bYiwZ/RR/9wgLMiLuBYGBtl101s=", "id"=>"17", "date"=>"2011-04-10", "item"=>{"price"=>"0", "name"=>"„ÉÜ„Çπ„Éà", "happen_at(1i)"=>"2011", "happen_at(2i)"=>"1", "happen_at(3i)"=>"10", "item_type"=>"expense"}}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 17) [0m
  [4;36;1mItem Update (0.2ms)[0m   [0;1mUPDATE "items" SET "updated_at" = '2011-04-10 21:10:34', "price" = 0 WHERE "id" = 17[0m
Redirected to http://localhost:3000/?date=2011-04-10&sum_type=all
Completed in 11ms (DB: 1) | 302 Found [http://localhost/items/update/17?date=2011-04-10&sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:10:34) [GET]
  Parameters: {"sum_type"=>"all", "date"=>"2011-04-10"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 37ms (View: 29, DB: 1) | 200 OK [http://localhost/?date=2011-04-10&sum_type=all]


Processing SummaryController#list (for 127.0.0.1 at 2011-04-10 21:10:44) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at ASC LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
Rendering template within layouts/application
Rendering summary/list
Completed in 18ms (View: 6, DB: 1) | 200 OK [http://localhost/summary]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:10:57) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.5ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 38ms (View: 30, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:18:18) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.5ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 10[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount

ActionView::TemplateError (undefined method `total_pages' for #<Array:0x1034c6a68>) on line #78 of app/views/total/amount.html.erb:
75: <br />
76: 
77: <%# „Éö„Éº„Ç∏„É≥„Ç∞ %>
78: <%= will_paginate @items, :previous_label => 'Prev', :next_label => 'Next', :params => { :action => "amount" } %>
79: 
80: <table>
81: 	<tr>

    /Library/Ruby/Gems/1.8/gems/will_paginate-2.3.15/lib/will_paginate/view_helpers.rb:201:in `total_pages_for_collection'
    /Library/Ruby/Gems/1.8/gems/will_paginate-2.3.15/lib/will_paginate/view_helpers.rb:98:in `will_paginate'
    app/views/total/amount.html.erb:78


Rendered rescues/_trace (72.5ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:21:43) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]):
  app/models/item.rb:10:in `find_items'
  app/controllers/total_controller.rb:19:in `amount'


Rendered rescues/_trace (24.9ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:22:19) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NameError (uninitialized constant Item::PER_PAGE):
  app/models/item.rb:10:in `find_items'
  app/controllers/total_controller.rb:19:in `amount'


Rendered rescues/_trace (65.4ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:22:48) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NameError (uninitialized constant Item::PER_PAGE):
  app/models/item.rb:10:in `find_items'
  app/controllers/total_controller.rb:19:in `amount'


Rendered rescues/_trace (60.7ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:22:51) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NameError (uninitialized constant Item::PER_PAGE):
  app/models/item.rb:10:in `find_items'
  app/controllers/total_controller.rb:19:in `amount'


Rendered rescues/_trace (26.8ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:23:28) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.6ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 15 OFFSET 0[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "items" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 94ms (View: 85, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:23:55) [GET]
  Parameters: {"sum_type"=>"all", "page"=>"2"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 15 OFFSET 15[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 29ms (View: 22, DB: 1) | 200 OK [http://localhost/?page=2&sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:23:57) [GET]
  Parameters: {"sum_type"=>"all", "page"=>"1"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.5ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 15 OFFSET 0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "items" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 85ms (View: 77, DB: 1) | 200 OK [http://localhost/?page=1&sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:24:46) [GET]
  Parameters: {"sum_type"=>"all", "page"=>"1"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.5ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 15 OFFSET 0[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "items" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 51ms (View: 42, DB: 1) | 200 OK [http://localhost/?page=1&sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:24:55) [GET]
  Parameters: {"sum_type"=>"all", "page"=>"1"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.6ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 15 OFFSET 0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "items" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 90ms (View: 81, DB: 1) | 200 OK [http://localhost/?page=1&sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:25:06) [GET]
  Parameters: {"sum_type"=>"all", "page"=>"2"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 15 OFFSET 15[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 36ms (View: 28, DB: 1) | 200 OK [http://localhost/?page=2&sum_type=all]


Processing SummaryController#list (for 127.0.0.1 at 2011-04-10 21:25:10) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at ASC LIMIT 1[0m
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
Rendering template within layouts/application
Rendering summary/list
Completed in 21ms (View: 9, DB: 1) | 200 OK [http://localhost/summary]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:25:12) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.5ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 15 OFFSET 0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "items" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 82ms (View: 74, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing SummaryController#list (for 127.0.0.1 at 2011-04-10 21:25:16) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at ASC LIMIT 1[0m
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
Rendering template within layouts/application
Rendering summary/list
Completed in 19ms (View: 6, DB: 1) | 200 OK [http://localhost/summary]


Processing SummaryController#list (for 127.0.0.1 at 2011-04-10 21:26:16) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at ASC LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
Rendering template within layouts/application
Rendering summary/list
Completed in 22ms (View: 9, DB: 1) | 200 OK [http://localhost/summary]


Processing SummaryController#list (for 127.0.0.1 at 2011-04-10 21:26:40) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at ASC LIMIT 1[0m
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
Rendering template within layouts/application
Rendering summary/list
Completed in 22ms (View: 9, DB: 1) | 200 OK [http://localhost/summary]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:26:53) [GET]
  Parameters: {"sum_type"=>"all"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.5ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 15 OFFSET 0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "items" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 47ms (View: 39, DB: 1) | 200 OK [http://localhost/?sum_type=all]


Processing ItemsController#new (for 127.0.0.1 at 2011-04-10 21:27:03) [GET]
  Parameters: {"sum_type"=>"all", "date"=>"2011-04-10"}
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering items/new
Completed in 19ms (View: 13, DB: 0) | 200 OK [http://localhost/items/new?date=2011-04-10&sum_type=all]


Processing ItemsController#create (for 127.0.0.1 at 2011-04-10 21:27:12) [POST]
  Parameters: {"commit"=>"‰ΩúÊàê", "sum_type"=>"all", "authenticity_token"=>"eo6bwkejlLsq9E47bYiwZ/RR/9wgLMiLuBYGBtl101s=", "date"=>"2011-04-10", "item"=>{"price"=>"2000", "name"=>"„ÉÜ„Çπ„Éà", "happen_at(1i)"=>"2011", "happen_at(2i)"=>"4", "happen_at(3i)"=>"10", "item_type"=>"expense"}}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Create (0.3ms)[0m   [0;1mINSERT INTO "items" ("name", "price", "created_at", "updated_at", "cycle", "cycle_mode", "happen_at", "item_type") VALUES('„ÉÜ„Çπ„Éà', 2000, '2011-04-10 21:27:12', '2011-04-10 21:27:12', NULL, NULL, '2011-04-10', 'expense')[0m
Redirected to http://localhost:3000/?date=2011-04-10&sum_type=all
Completed in 17ms (DB: 0) | 302 Found [http://localhost/items/create?date=2011-04-10&sum_type=all]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:27:12) [GET]
  Parameters: {"sum_type"=>"all", "date"=>"2011-04-10"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.6ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC, id DESC LIMIT 15 OFFSET 0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "items" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income') LIMIT 100[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense') LIMIT 100[0m
Rendering template within layouts/application
Rendering total/amount
Completed in 83ms (View: 37, DB: 1) | 200 OK [http://localhost/?date=2011-04-10&sum_type=all]


Processing SummaryController#list (for 127.0.0.1 at 2011-04-10 21:27:15) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" ORDER BY happen_at ASC LIMIT 1[0m
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" ORDER BY happen_at DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2009-01-01' AND happen_at < '2010-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2010-01-01' AND happen_at < '2011-01-01') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-01-01' AND happen_at < '2012-01-01') [0m
Rendering template within layouts/application
Rendering summary/list
Completed in 19ms (View: 6, DB: 1) | 200 OK [http://localhost/summary]


Processing TotalController#amount (for 127.0.0.1 at 2011-04-10 21:28:02) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mItem Load (0.2ms)[0m   [0;1mSELECT * FROM "items" WHERE (happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') ORDER BY happen_at ASC, id ASC LIMIT 15 OFFSET 0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'income' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum("items".price) AS sum_price FROM "items" WHERE (item_type = 'expense' AND happen_at >= '2011-04-01' AND happen_at <= '2011-04-30') [0m
Rendering template within layouts/application
Rendering total/amount
Completed in 32ms (View: 23, DB: 1) | 200 OK [http://localhost/]
